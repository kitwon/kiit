{"version":3,"sources":["webpack:///path---blog-2-3e4c3f16339c5c57a9a3.js","webpack:///./.cache/json/blog-2.json"],"names":["webpackJsonp","283","module","exports","data","allMarkdownRemark","edges","node","excerpt","frontmatter","title","date","category","path","pathContext","nodes","tags","headings","depth","value","html","htmlExcerpt","page","pages","total","limit","prev","next"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,mBAAqBC,QAAUC,MAAQC,QAAA,wfAAAC,aAAihBC,MAAA,SAAAC,KAAA,aAAAC,UAAA,MAAAC,KAAA,wBAAsFN,MAAQC,QAAA,wjBAAAC,aAAilBC,MAAA,kBAAAC,KAAA,aAAAC,UAAA,MAAAC,KAAA,0BAAiGN,MAAQC,QAAA,gfAAAC,aAAygBC,MAAA,sBAAAC,KAAA,aAAAC,UAAA,QAAAC,KAAA,0BAAuGN,MAAQC,QAAA,qjBAAAC,aAA8kBC,MAAA,mBAAAC,KAAA,aAAAC,SAAA,KAAAC,KAAA,qBAA2FN,MAAQC,QAAA,goBAA+nBC,aAA0BC,MAAA,wBAAAC,KAAA,aAAAC,SAAA,KAAAC,KAAA,oBAA+FN,MAAQC,QAAA,o8BAA27BC,aAAkCC,MAAA,iBAAAC,KAAA,aAAAC,UAAA,QAAAC,KAAA,qBAA6FN,MAAQC,QAAA,0kBAA8jBC,aAAqCC,MAAA,oBAAAC,KAAA,aAAAC,SAAA,KAAAC,KAAA,wBAA+FN,MAAQC,QAAA,iUAAAC,aAA0VC,MAAA,iBAAAC,KAAA,aAAAC,SAAA,KAAAC,KAAA,2BAA+FN,MAAQC,QAAA,6wBAAAC,aAAsyBC,MAAA,sBAAAC,KAAA,aAAAC,SAAA,KAAAC,KAAA,qBAA8FN,MAAQC,QAAA,wNAA0LC,aAAuDC,MAAA,mBAAAC,KAAA,aAAAC,UAAA,cAAAC,KAAA,sBAAsGN,MAAQC,QAAA,6rBAA2rBC,aAA2BC,MAAA,eAAAC,KAAA,aAAAC,UAAA,MAAAC,KAAA,uBAA2FN,MAAQC,QAAA,odAAAC,aAA6eC,MAAA,iBAAAC,KAAA,aAAAC,UAAA,MAAAC,KAAA,sBAA4FN,MAAQC,QAAA,62BAAAC,aAAw4BC,MAAA,mBAAAC,KAAA,aAAAC,UAAA,MAAAC,KAAA,6BAAqGN,MAAQC,QAAA,kRAAAC,aAA2SC,MAAA,kBAAAC,KAAA,aAAAC,UAAA,gBAAAC,KAAA,yBAAyGC,aAAgBC,QAAUR,MAAQE,aAAeC,MAAA,iBAAAC,KAAA,aAAAC,UAAA,QAAAI,MAAA,WAAAH,KAAA,kBAA4GL,QAAA,o8BAA47BS,WAAgCC,MAAA,EAAAC,MAAA,iBAAmCD,MAAA,EAAAC,MAAA,SAA2BD,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,kBAAoCD,MAAA,EAAAC,MAAA,SAA2BD,MAAA,EAAAC,MAAA,UAA4BD,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,OAAuBC,KAAA,kmIAA4hHC,YAAA,8lCAA2rDd,MAAQE,aAAeC,MAAA,oBAAAC,KAAA,aAAAC,SAAA,KAAAI,KAAA,KAAAH,KAAA,qBAAuGL,QAAA,0kBAA+jBS,WAAmCC,MAAA,EAAAC,MAAA,UAA4BD,MAAA,EAAAC,MAAA,UAA4BD,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,YAA8BD,MAAA,EAAAC,MAAA,OAAuBC,KAAA,gmJAAw8IC,YAAA,6wBAAg8Bd,MAAQE,aAAeC,MAAA,iBAAAC,KAAA,aAAAC,SAAA,KAAAI,KAAA,KAAAH,KAAA,wBAAuGL,QAAA,iUAAAS,WAAyVC,MAAA,EAAAC,MAAA,SAA2BD,MAAA,EAAAC,MAAA,SAA2BD,MAAA,EAAAC,MAAA,WAA6BD,MAAA,EAAAC,MAAA,QAA0BD,MAAA,EAAAC,MAAA,QAA0BD,MAAA,EAAAC,MAAA,OAAuBC,KAAA,g0LAAmrLC,YAAA,ydAA6nBd,MAAQE,aAAeC,MAAA,sBAAAC,KAAA,aAAAC,SAAA,KAAAI,KAAA,KAAAH,KAAA,kBAAsGL,QAAA,6wBAAAS,WAAqyBC,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,WAA6BD,MAAA,EAAAC,MAAA,cAAgCD,MAAA,EAAAC,MAAA,cAAgCD,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,SAA2BD,MAAA,EAAAC,MAAA,UAA4BD,MAAA,EAAAC,MAAA,UAA4BD,MAAA,EAAAC,MAAA,SAA2BD,MAAA,EAAAC,MAAA,iBAAmCD,MAAA,EAAAC,MAAA,OAAuBC,KAAA;AAAorNC,YAAA,k/BAA0vCd,MAAQE,aAAeC,MAAA,mBAAAC,KAAA,aAAAC,UAAA,cAAAI,KAAA,KAAAH,KAAA,mBAA8GL,QAAA,wNAA2LS,WAAqDC,MAAA,EAAAC,MAAA,OAAyBD,MAAA,EAAAC,MAAA,SAAyBC,KAAA,yoCAAyxBC,YAAA,iRAA4pBC,KAAA,EAAAC,MAAA,EAAAC,MAAA,GAAAC,MAAA,EAAAC,KAAA,UAAAC,KAAA","file":"path---blog-2-3e4c3f16339c5c57a9a3.js","sourcesContent":["webpackJsonp([225156435109840],{\n\n/***/ 283:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"allMarkdownRemark\":{\"edges\":[{\"node\":{\"excerpt\":\"\\nè¿™æ¬¡åšçš„æ˜¯ä¸€ä¸ªç±»ä¼¼teambitionçš„å›¢é˜Ÿåä½œç±»é¡¹ç›®ï¼Œå› ä¸ºä¸Šçº§åæ˜ äº¤äº’å’Œè§†è§‰æ–¹é¢éƒ½æ²¡æœ‰è¾¾åˆ°è¦æ±‚ï¼Œä»¥å‰çš„ä»£ç ä¹Ÿæ²¡æœ‰ç”¨æ¨¡å—åŒ–å’Œç”¨nodeåšä¸€äº›è‡ªåŠ¨åŒ–çš„å·¥ä½œï¼Œæ—§ä»£ç æ˜¯åŸºæœ¬æ”¹ä¸äº†çš„ï¼Œæ‰€ä»¥å°±æ²¡çœ‹ä»¥å‰çš„ä»£ç ï¼Œç›´æ¥çœ‹ç€äº¤äº’è·Ÿè®¾è®¡ç¨¿å°±å¼€æ’¸äº†ã€‚\\nåº“é€‰æ‹©åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆé€‰æ‹©äº†ï¼Œangularç‰ˆæœ¬ä¸ç¨³å®šï¼Œpassï¼Œreact å’Œ vueä¹‹é—´ä¸ºä»€ä¹ˆé€‰åè€…å‘¢ï¼Œä¸€æ–¹é¢å—å…¬å¸æ”¿æ²»å› ç´ å½±å“ï¼Œå¦ä¸€æ–¹é¢vueæ–‡æ¡£æœ‰ä¸­æ–‡ï¼Œtemplateçš„å†™æ³•å¯¹æ–°æ‰‹ä¹Ÿæ¯”è¾ƒå‹å¥½ï¼Œè€ƒè™‘åˆ°åæœŸäººå‘˜é…ç½®å°±é€‰æ‹©vueäº†ã€‚\\né‡æ„äº†4ä¸ªå¤§æ¨¡å—ï¼Œæ”¹ç‰ˆç”¨æ—¶å¤§æ¦‚ä¸€ä¸ªåŠæœˆï¼Œæµ‹è¯•æ—¶é—´ä¸€å‘¨å·¦å³ï¼ŒæœŸé—´æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒå¤§å¡è¿›åº¦çš„é—®é¢˜ã€‚ä¸‹é¢é€šè¿‡å¯¹é¡¹ç›®çš„æ„å»ºï¼Œç»„ç»‡ï¼Œæµ‹è¯•ç­‰å·¥ä½œåšä¸‹è®°å½•ä»¥åŠåˆ†æã€‚\\n\\n# é¡¹ç›®æ„å»º\\né¡¹ç›®åˆ›å»ºæ˜¯ä½¿ç”¨vue-cliåˆ›å»ºçš„ï¼Œæ¨¡ç‰ˆåˆ™æ˜¯ä½¿ç”¨æˆ‘è‡ªå·±ç»´æŠ¤çš„[vue-mpa](https://github.com/kitwon/vue-mpa)å¤šé¡µæ¨¡æ¿åˆ›å»ºçš„å•é¡µåº”ç”¨ğŸ¤©(å‡ºäºå¯¹è‡ªå·±çš„æ”¯æŒï¼Œå¯¹æ¨¡ç‰ˆbugçš„æµ‹è¯•ï¼Œä»¥åŠåˆ‡æ¢ä¸ºå•é¡µåº”ç”¨ä¹Ÿæ–¹ä¾¿)ã€‚é™¤äº†å®˜æ–¹åŸºæœ¬çš„åŠŸèƒ½å¤–ï¼Œé¡¹ç›®è¿˜åŠ å…¥äº†æ‰“åŒ…å®Œæˆåè‡ªåŠ¨åˆ é™¤å¹¶æ‹·è´åˆ°åå°é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨ç”Ÿæˆjspæ¨¡æ¿ç­‰ä¸€äº›è‡ªåŠ¨åŒ–åŠŸèƒ½ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"å¹´åº•é¡¹ç›®å¤ç›˜\",\"date\":\"2018-01-23\",\"category\":[\"å·¥ä½œ\"],\"path\":\"/post/2017-review\"}}},{\"node\":{\"excerpt\":\"\\n> è¿™ç¯‡æ–‡ç« å¤§æ¦‚5500å­—ä½“å·¦å³ï¼Œå¯èƒ½éœ€è¦æµªè´¹5-10åˆ†é’Ÿå»é˜…è¯»ã€‚\\n\\n----\\n\\n> ç°åœ¨javascriptæ€§èƒ½å·²ç»è¶³å¤Ÿå¿«äº†ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„web appè¿˜æ˜¯ä¼šå‡ºç°å¡é¡¿çš„æƒ…å†µã€‚è¿™æ—¶å€™æˆ‘ä»¬é¦–å…ˆä¼šæƒ³åˆ°æ˜¯å»ä¼˜åŒ–æˆ‘ä»¬çš„jsä»£ç ï¼Œæ¯”å¦‚å°†forå¾ªç¯æ”¹ä¸ºwhileï¼Œä½†å…¶å®è¿™äº›å¾®ç²’åº¦çš„ä¼˜åŒ–å…¶å®å¯¹æ€§èƒ½æç¤ºæ˜¯çš®æ¯›ã€‚çœ‹å®Œgoogleçš„[render performance](https://developers.google.com/web/fundamentals/performance/rendering/)å¯¹å‰ç«¯æ¸²æŸ“ä¼˜åŒ–æœ‰äº†ä¸€ä¸ªæ–°çš„è®¤è¯†ã€‚\\n\\n# å‡ ä¸ªé‡è¦æ¦‚å¿µ\\n## 60fpsä¸è®¾å¤‡åˆ·æ–°ç‡\\nç›®å‰å¤§å¤šæ•°è®¾å¤‡çš„åˆ·æ–°ç‡éƒ½æ˜¯60fpsã€‚ç©æ¸¸æˆçš„éƒ½çŸ¥é“ï¼Œå¦‚æœå½“å‰åˆ·æ–°ç‡åœ¨30-60fpsï¼Œæ¸¸æˆè¿è¡Œä¼šåŸºæœ¬æµç•…ï¼Œè€Œå°‘äº60fpså°±ä¼šå‡ºç°å¡é¡¿çš„çŠ¶å†µäº†ã€‚web appåŸºæœ¬ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¦‚æœæµè§ˆå™¨æ¸²æŸ“å¸§çªç„¶ä¸‹é™ï¼Œæˆ–è€…å¸§æ•°ä½çš„æƒ…å†µï¼Œå°±å‡ºç°ç¨‹åºè¿è¡Œå¡çš„æƒ…å†µäº†ã€‚\\n\\nå…¶ä¸­æ¯ä¸ªå¸§çš„é¢„ç®—æ—¶é—´ä»…æ¯” 16 æ¯«ç§’å¤šä¸€ç‚¹ (1 ç§’/ 60 = 16.66 æ¯«ç§’)ã€‚ä½†å®é™…ä¸Šï¼Œæµè§ˆå™¨æœ‰æ•´ç†å·¥ä½œè¦åšï¼Œå› æ­¤æ‚¨çš„æ‰€æœ‰å·¥ä½œéœ€è¦åœ¨ 10 æ¯«ç§’å†…å®Œæˆã€‚å¦‚æœæ— æ³•ç¬¦åˆæ­¤é¢„ç®—ï¼Œå¸§ç‡å°†ä¸‹é™ï¼Œå¹¶ä¸”å†…å®¹ä¼šåœ¨å±å¹•ä¸ŠæŠ–åŠ¨ã€‚ æ­¤ç°è±¡é€šå¸¸ç§°ä¸ºå¡é¡¿ï¼Œä¼šå¯¹ç”¨æˆ·ä½“éªŒäº§ç”Ÿè´Ÿé¢å½±å“ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"æ„å»º60fps-web-app\",\"date\":\"2017-09-13\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/60fps-web-app\"}}},{\"node\":{\"excerpt\":\"\\nåœ¨ä¹‹å‰å·²ç»å†™è¿‡ä¸€ç¯‡å…³äºå‰ç«¯å•å…ƒæµ‹è¯•çš„æ–‡ç« ï¼Œç›¸å…³æ¦‚å¿µå°±ä¸ä½œé˜è¿°äº†ï¼Œæœ‰å…´è¶£æˆ–è€…æœ‰éœ€æ±‚çš„åŒå­¦å¯ä»¥åœ¨å¾€æœŸæ‰¾ä¸€ä¸‹ã€‚ç„¶åè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹[jest](http://facebook.github.io/jest/)ï¼Œè¿™æ˜¯ä¸€ä¸ª[Facebook OpenSource](https://code.facebook.com/projects/)çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚é¡¹ç›®å·²ç»é›†æˆå¥½äº†ä¸€äº›æµ‹è¯•ç›¸å…³çš„æ¡†æ¶çš„ä»£ç ï¼Œä¸»æ‰“çš„æ˜¯é›¶é…ç½®æµ‹è¯•å¹³å°ï¼ˆreactä¸­åº”è¯¥ç®—æ˜¯é›¶é…ç½®ï¼Œå…¶ä»–é¡¹ç›®è¿˜æ˜¯è¦æ‰‹åŠ¨é…ç½®ä¸€ä¸‹çš„ï¼‰ï¼Œé‡Œé¢ä¸€ä¸ªæ¯”è¾ƒå¥½åœ°æ–¹æ˜¯æ”¯æŒ**å¿«ç…§æµ‹è¯•**(ä¸ºdomç»“æ„ç”Ÿæˆä¸€ä¸ªå¿«ç…§ï¼Œæ¯æ¬¡æµ‹è¯•éƒ½å¯¹æ¯”domç»“æ„)ã€‚å…¶ä»–ä¸€äº›å¥½ç”¨çš„åœ°æ–¹å¯ä»¥è‡ªå·±æŸ¥çœ‹æ–‡æ¡£ï¼Œæœ‰ä¸­æ–‡ã€‚\\n\\n# é…ç½®\\né¦–å…ˆæ˜¯å®‰è£…jest, jset-vue-preprocessor(jestçš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥è§£æ'.vue'æ–‡ä»¶çš„)ã€‚\\n```shell\\n$npm install jest jest-vue-preprocessor --save-dev\\n\\n$yarn add jest jest-vue-preprocessor --save\\n```\\n\\n\",\"frontmatter\":{\"title\":\"åœ¨vueé¡¹ç›®ä¸­ä½¿ç”¨jestè¿›è¡Œå•å…ƒæµ‹è¯•\",\"date\":\"2017-08-18\",\"category\":[\"å‰ç«¯å·¥å…·\"],\"path\":\"/post/vue-jest-test\"}}},{\"node\":{\"excerpt\":\"\\n# ç±»ç†è®º\\nç±»ï¼ç»§æ‰¿æè¿°äº†ä¸€ç§ä»£ç çš„ç»„ç»‡ç»“æ„å½¢å¼ï¼Œè¿™ä¸ªç†è®ºåœ¨è½¯ä»¶è®¾è®¡ä¸­ä¸€ç›´ä½œä¸ºä¸€ä¸ªä¸»å¯¼çš„è§’è‰²ã€‚é€šè¿‡å­¦ä¹ ç±»ç†è®ºï¼Œèƒ½ä¸ºæ›´å¥½åœ°å­¦ä¹ jsä¸­çš„è®¾è®¡æ¨¡å¼å’Œå¯¹jsä¸­åŸå‹é“¾çš„ç†è§£æ‰“ä¸‹åŸºç¡€ã€‚\\n\\nç±»æ˜¯åœ¨è½¯ä»¶ä¸­å¯¹çœŸå®ä¸–ç•Œé—®é¢˜é¢†åŸŸçš„å»ºæ¨¡æ–¹æ³•ã€‚å¦‚ä¸€ä¸ªç»å¸¸çœ‹è§çš„äº¤é€šä¾‹å­ã€‚**æ±½è½¦**å¯ä»¥è¢«çœ‹ä½œ**äº¤é€šå·¥å…·ä¸­çš„ä¸€ç§**ï¼Œæ‰€ä»¥åœ¨è½¯ä»¶å¼€å‘æ—¶å¯ä»¥å®šä¹‰ä¸€ä¸ª`Vehicle`ç±»ï¼Œ`Vehicle`ä¸­åŒ…å«æ¨è¿›å™¨ï¼ˆå¼•æ“ï¼‰ã€è½½äººèƒ½åŠ›ç­‰æ–¹æ³•ã€‚å®šä¹‰`Car`æ—¶ï¼Œåªè¦å£°æ˜å®ƒç»§æ‰¿æˆ–è€…æ‹“å±•`Vehicle`è¿™ä¸ªåŸºç¡€å®šä¹‰å°±è¡Œäº†ï¼Œå…¶ä»–äº¤é€šå·¥å…·å¦‚èˆ¹ã€é£æœºä¹Ÿå¯ä»¥ç»§æ‰¿`Vehicle`ã€‚**è¿™å°±æ˜¯ç±»çš„å®ä¾‹åŒ–ä¸ç»§æ‰¿**ã€‚\\n\\nç±»çš„å¦å¤–ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µæ˜¯**å¤šæ€**ï¼Œè¿™ä¸ªæ¦‚å¿µæ˜¯è¯´å¤«ç±»çš„é€šç”¨è¡Œä¸ºå¯ä»¥è¢«å­ç±»æ›´ç‰¹æ®Šçš„è¡Œä¸ºé‡å†™ã€‚\\n\\njavascriptä¸­ä¹Ÿæœ‰ç±»ä¸­çš„`new`å’Œ`instanceof`ï¼Œè¿˜æœ‰ES6ä¸­çš„`class`å…³é”®å­—ï¼Œä½†è¿™äº›å¹¶ä¸æ˜¯è¯´æ˜jsä¸­æœ‰**ç±»**çš„ã€‚javascriptä¸­åªæ˜¯ä¸ºäº†æ»¡è¶³ç±»çš„è®¾è®¡éœ€æ±‚è€Œæä¾›ä¸€äº›ç±»ä¼¼çš„è¯­æ³•ã€‚\\n\\n## jsä¸­å®ç°ç±»å¤åˆ¶(æ··å…¥)\\njavascriptä¸­çš„å¯¹è±¡æœºåˆ¶å¹¶ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå¤åˆ¶è¡Œä¸ºï¼Œç®€å•æ¥è¯´javascriptä¸­åªæœ‰å¯¹è±¡ï¼Œå¹¶ä¸å­˜åœ¨å¯ä»¥å®ä¾‹çš„ç±»ã€‚ä¸€ä¸ªå¯¹è±¡å¹¶ä¸ä¼šå¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œåªä¼šæŠŠå®ƒå…³è”èµ·æ¥(prototype)ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript-ç±»\",\"date\":\"2017-07-20\",\"category\":null,\"path\":\"/post/js-class\"}}},{\"node\":{\"excerpt\":\"\\n# å…³äºthis\\n\\n`this`åº”è¯¥æ˜¯javascriptä¸­ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æœºåˆ¶äº†ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­æˆ‘ä»¬å¯èƒ½æœ‰æ„æ— æ„éƒ½ä¼šä½¿ç”¨åˆ°è¿™ä¸ªæœºåˆ¶ï¼Œä½†æ˜¯`this`çš„å·¥ä½œæœºåˆ¶çœŸæ­£äº†è§£çš„å¯èƒ½åªæœ‰çš®æ¯›ï¼Œé€šè¿‡å­¦ä¹ è¿™ä¸€æœºåˆ¶ï¼Œèƒ½å¤Ÿæé«˜å¯¹jsä»£ç çš„ç†è§£å’Œé˜…è¯»èƒ½åŠ›ï¼Œè¿˜æœ‰å¯¹jsç¨‹åºè®¾è®¡æ¨¡å¼æœ‰ç€æ›´æ·±çš„ç†è§£ã€‚\\n\\n# thisçš„æŒ‡å‘\\nthisæ˜¯è¿è¡Œæ—¶è¿›è¡Œç»‘å®šçš„ï¼Œè€Œä¸æ˜¯ç¼–å†™æ—¶ç»‘å®šçš„ï¼Œå®ƒçš„ä¸Šä¸‹æ–‡å–å†³äºå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ã€‚thisçš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚\\n\\né€šè¿‡åˆ†æè°ƒç”¨ä½ç½®ï¼Œå°±èƒ½çŸ¥é“thisåˆ°åº•å¼•ç”¨çš„æ˜¯ä»€ä¹ˆã€‚æ‰€ä»¥ï¼Œå¯»æ‰¾è°ƒç”¨ä½ç½®å°±èƒ½å¼„æ¸…ä¸Šé¢çš„é—®é¢˜ï¼Œé€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œå°±èƒ½å¾ˆå¥½åœ°ç†è§£è¿™ä¸ªé—®é¢˜ï¼š\\n```javascript\\nfunction baz() {\\n  // å½“å‰è°ƒç”¨æ ˆæ˜¯ baz\\n  // å½“å‰è°ƒç”¨ä½ç½®æ˜¯å…¨å±€ä½œç”¨åŸŸ\\n\\n  console.log('baz');\\n  bar(); // barçš„è°ƒç”¨ä½ç½®\\n}\\n\\nfunction bar() {\\n  // å½“å‰çš„è°ƒç”¨æ ˆæ˜¯ baz -> bar\\n  // å½“å‰çš„è°ƒç”¨ä½ç½®æ˜¯baz\\n\\n  console.log('bar');\\n  foo();\\n}\\n\\nfunction foo() {\\n  // å½“å‰çš„è°ƒç”¨æ ˆæ˜¯ baz -> bar -> foo\\n  // å½“å‰çš„è°ƒç”¨ä½ç½®æ˜¯bar\\n\\n  console.log('foo');\\n}\\n\\nbaz();\\n```\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript - this\",\"date\":\"2017-06-27\",\"category\":null,\"path\":\"/post/js-this\"}}},{\"node\":{\"excerpt\":\"\\nwebpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚\\n\\n# ä»webpack1ä¸­è¿ç§»\\nå®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„[è¿ç§»æŒ‡å—](https://webpack.js.org/guides/migrating/)ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚\\n\\n## é…ç½®æ–‡ä»¶\\nå¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚\\n\\n### `module.loaders`å˜æˆ`module.rules`\\næ—§çš„`module.loader`è¢«`module.rules`å–ä»£ï¼Œåè€…å…è®¸é…ç½®`loader`æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£[module.rules](https://webpack.js.org/configuration/module/#module-rules)\\n\\n```javascript\\n// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n```\\n\\n\",\"frontmatter\":{\"title\":\"webpack2æ–°ç‰¹æ€§&è¿ç§»\",\"date\":\"2017-06-24\",\"category\":[\"å‰ç«¯å·¥å…·\"],\"path\":\"/post/webpack2\"}}},{\"node\":{\"excerpt\":\"\\n# ä»€ä¹ˆæ˜¯é—­åŒ…\\nè®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚\\n\\n> å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰\\n\\nç„¶åçœ‹ä¸ªä¾‹å­\\n```javascript\\nfunction foo() {\\n\\tvar a = 2;\\n\\n\\tfuntion bar() {\\n\\t\\tconsole.log(a);\\n\\t}\\n\\n\\tbar();\\n}\\n\\nfoo();\\n```\\nå¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯**ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯**ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯`bar`å¯¹`a`çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯**é—­åŒ…**çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­\\n\\n```javascript\\nfucntion foo() {\\n\\tvar a = 2;\\n\\n\\tfunction bar() {\\n\\t\\tconsole.log(a)\\n\\t}\\n\\n\\treturn bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n```\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript-é—­åŒ…\",\"date\":\"2017-06-14\",\"category\":null,\"path\":\"/post/js-closures\"}}},{\"node\":{\"excerpt\":\"\\nä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚\\n\\n# ä¸»è¦éœ€æ±‚\\nè¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ**URLç®¡ç†å™¨**ã€**ä¸‹è½½å™¨**ã€**è§£æå™¨**\\n* URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚\\n* ä¸‹è½½å™¨ä¼šé€šè¿‡**URLç®¡ç†å™¨**ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚\\n* è§£æå™¨ä¼šå°†**ä¸‹è½½å™¨**ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™**URLç®¡ç†å™¨**è¿›è¡Œé‡å¤æ“ä½œã€‚\\n\\n## å…¥å£ç¨‹åº\\n`spider_main`æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘\\n\\n\",\"frontmatter\":{\"title\":\"ç”¨pythonå†™ä¸€ä¸ªç®€å•çˆ¬è™«\",\"date\":\"2017-06-11\",\"category\":null,\"path\":\"/post/python-crawler\"}}},{\"node\":{\"excerpt\":\"\\n# å‰è¨€\\nä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚\\n\\n# ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ\\nJSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º**ä½œç”¨åŸŸ**ã€‚\\n\\n\\n\\n## ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹\\nå¦‚åœ¨`var a = 2`æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚\\n\\né¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚\\n1. é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚\\n2. æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º**å¼•æ“**ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†`a = 2`è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®**ä½œç”¨åŸŸ**å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª`a`çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ**å¼•æ“**å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ**å¼•æ“**æ‰¾åˆ°`a`å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ**å¼•æ“**ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚\\n\\n**æ€»ç»“**ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ**ç¼–è¯‘å™¨**ä¼šåœ¨å½“å‰**ä½œç”¨åŸŸ**ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript--ä½œç”¨åŸŸ\",\"date\":\"2017-05-31\",\"category\":null,\"path\":\"/post/js-scope\"}}},{\"node\":{\"excerpt\":\"\\n# é¢˜ç›®\\nä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°\\n```javascript\\nfunction add(x) {\\n\\tvar fn = function(y) {\\n\\t\\treturn add(x + y);\\n\\t}\\n\\n\\treturn fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n```\\n\\n\",\"frontmatter\":{\"title\":\"jså®ç°add(1)(2)(3)\",\"date\":\"2017-05-28\",\"category\":[\"javascript\"],\"path\":\"/post/add-chain\"}}},{\"node\":{\"excerpt\":\"\\nè€å‰ç«¯éƒ½çŸ¥é“ï¼Œjsåˆ†ä¸ºåŒæ­¥(sync)å’Œå¼‚æ­¥(async)ä¸¤ç§æ¨¡å¼ï¼ŒåŒæ­¥ç®€å•æ¥è¯´å°±æ˜¯æ’é˜Ÿï¼Œä¸€ä¸ªæ¥ç€ä¸€ä¸ªã€‚å¼‚æ­¥åˆ™æ˜¯å‡½æ•°æ‰§è¡Œå®Œåæ‰§è¡Œå®ƒçš„å›è°ƒå‡½æ•°ï¼Œè€Œä¸‹ä¸€ä¸ªå‡½æ•°ä¸ç­‰ä¸Šä¸€ä¸ªå‡½æ•°å®Œæˆå°±å¼€å§‹æ‰§è¡Œã€‚ä½¿ç”¨å›è°ƒå‡½æ•°èƒ½è§£å†³å¤§éƒ¨åˆ†çš„å¼‚æ­¥é—®é¢˜ï¼Œä½†æ˜¯å›è°ƒä¸€å¤šå°±å¾ˆå®¹æ˜“æ‰è¿›â€˜å›è°ƒåœ°ç‹±â€™ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ[promise](https://promisesaplus.com/)ï¼ˆCommonJSå·¥ä½œç»„æå‡ºçš„ä¸€ç§è§„èŒƒï¼‰ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§æ›´ä¸ºä¼˜é›…çš„è§£å†³æ–¹å¼ã€‚\\n\\nä¸‹é¢ï¼Œæˆ‘ä»¬ä¼šå°è¯•å®ç°ä¸€ä¸ªpromiseï¼Œé€šè¿‡å®ç°è¿™ä¸ªdemoï¼Œèƒ½æ›´å¥½åœ°ç†è§£promiseçš„è¿è¡Œæ–¹å¼ï¼Œä½¿å¹³æ—¶åœ¨ä½¿ç”¨çš„æ—¶å€™æ›´åŠ ç†Ÿç»ƒï¼Œä¹Ÿèƒ½ä»å®ç°åŸç†ä¸­è¿›è¡Œæ·±å…¥æ¢è®¨ï¼Œä»è€Œè¾¾åˆ°â€œçŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚\\n\\n\\n\\n# åˆæ­¥æ„å»ºä¸€ä¸ªPromise\\næˆ‘ä»¬çœ‹ä¸‹å¹³æ—¶ä½¿ç”¨promiseå¤„ç†å¼‚æ­¥å‡½æ•°æ—¶å€™çš„ä½¿ç”¨æ–¹å¼ï¼Œä»è°ƒç”¨æ–¹æ³•çœ‹ä¸‹å¤§æ¦‚ç”¨ä»€ä¹ˆæ–¹å¼å»å®ç°\\n```javascript\\n// ä¾‹1\\nfunction getAsyncData() {\\n\\treturn new Promise(function(resolve, reject) {\\n\\t\\tsetTimeout(function() {\\n\\t\\t\\tresolve('promise done!')\\n\\t\\t}, 1000)\\n\\t})\\n}\\n\\ngetAsyncData().then(function(result) {\\n\\tconsole.log(result);\\n}).then(function() {\\n\\tconsole.log('done too!');\\n})\\n```\\n\\n\",\"frontmatter\":{\"title\":\"Promiseçš„ç®€å•å®ç°\",\"date\":\"2017-05-17\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/js-promise\"}}},{\"node\":{\"excerpt\":\"\\n# ä»€ä¹ˆæ˜¯å•å…ƒ-æµ‹è¯•?\\n- å•å…ƒå°±æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ï¼Œä¾‹å¦‚ä¸€ä¸ªå‡½æ•°æˆ–è€…ä¸€ä¸ªç±»ã€‚ä¸€ä¸ªå®Œæ•´çš„æ¨¡å—åŒ–çš„ç¨‹åºï¼Œéƒ½åº”è¯¥æ˜¯æœ‰è®¸å¤šä¸ªå•å…ƒæ„æˆï¼Œå•å…ƒèƒ½å®Œæˆè‡ªå·±çš„ä»»åŠ¡ï¼Œç„¶åä¸å…¶ä»–å•å…ƒè¿›è¡Œäº¤äº’ ï¼Œä»è€Œå®Œæˆæ•´ä¸ªç¨‹åºçš„åŠŸèƒ½ã€‚\\n- è€Œæµ‹è¯•ï¼Œå°±æ˜¯æµ‹è¯•å•¦ã€‚\\n\\næ‰€ä»¥å•å…ƒæµ‹è¯•é€šä¿—ç‚¹è®²å°±æ˜¯å¯¹ç¨‹åºæ¯ä¸ªç‹¬ç«‹çš„å•å…ƒåˆ†åˆ«æµ‹è¯•ï¼Œä¿è¯æ„æˆç¨‹åºçš„æ¯ä¸ªæ¨¡å—çš„æ­£ç¡®æ€§ï¼Œä»è€Œä¿è¯æ•´ä¸ªç¨‹åºçš„æ­£ç¡®è¿è¡Œã€‚\\n\\n# ä¸ºä»€ä¹ˆè¦å†™å•å…ƒæµ‹è¯•ï¼Ÿ\\nå•å…ƒæµ‹è¯•åœ¨å‰ç«¯è¿˜æ˜¯ä¸å¤ªæ™®åŠçš„ï¼Œå› ä¸ºåˆšå¼€å§‹å‰ç«¯ä¹Ÿæ˜¯åå‘â€˜UIâ€™é‚£ä¸€å—çš„ï¼Œä½†éšç€nodeçš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šéâ€˜UIâ€™çš„å‰ç«¯ä»£ç ï¼Œä¸€ä¸ªå›¢é˜Ÿä¹Ÿè¶Šæ¥è¶Šå¤šäººå‚åŠ å¼€å‘ï¼Œå¦‚æœç³»ç»Ÿä¸€å¤æ‚ï¼Œåˆæˆ–è€…ä½ çš„æ¨¡å—æäº¤åˆ°npmä¸Šé¢çš„è¯ï¼Œä¸€å‡ºé”™åŸºæœ¬å°±GGäº†ã€‚\\nåˆæˆ–è€…ä½ è¿™æ ·æƒ³ï¼Œæµ‹è¯•æ˜¯é€ƒä¸æ‰çš„ï¼Œè¦ä¹ˆåœ¨devä¸Šæµ‹è¯•ï¼Œè¦ä¹ˆåœ¨prodä¸Šæµ‹è¯•ï¼Œæ€ä¹ˆéƒ½å¾—æµ‹è¯•ï¼Œè€Œä¸”æ¯æ¬¡æäº¤éƒ½è¦æµ‹è¯•ï¼Œä¸ºä»€ä¹ˆä¸å†™è‡ªåŠ¨æµ‹è¯•å‘¢ã€‚æˆ‘ä¹Ÿç›¸ä¿¡å¤§å¤šæ•°ç¨‹åºå‘˜ä¹Ÿæœ‰å†™å®Œè·‘è·‘çœ‹çš„ä¹ æƒ¯ï¼Œè€Œå•å…ƒæµ‹è¯•çš„logéƒ½ç›´æ¥æ‰“å°åˆ°consoleé‡Œé¢ï¼Œä¹Ÿçœå»äº†å¾ˆå¤šç¼–è¯‘ï¼Œæ‰“åŒ…çš„æ—¶é—´ï¼Œåˆèƒ½æ»¡è¶³å„ä½çš„å¿ƒç†éœ€æ±‚ï¼ˆçŒ¥çè„¸ï¼‰ï¼Œä¸€ä¸¾ä¸¤å¾—å•Šã€‚\\n\\n\",\"frontmatter\":{\"title\":\"å‰ç«¯å•å…ƒæµ‹è¯•&MochaæŒ‡åŒ—\",\"date\":\"2017-05-16\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/unit-test\"}}},{\"node\":{\"excerpt\":\"\\n> åŸæ–‡è¯‘è‡ª[Smashing Magazine](https://www.smashingmagazine.com/) -- [[How To Develop An Interactive Command Line Application Using Node.js](https://www.smashingmagazine.com/2017/03/interactive-command-line-application-node-js/)](https://www.smashingmagazine.com/2017/03/interactive-command-line-application-node-js/)\\n\\nç›¸ä¿¡å¾ˆå¤šå‰ç«¯éƒ½å¬è¯´è¿‡æˆ–è€…ä½¿ç”¨è¿‡[Gulp](http://www.gulpjs.com.cn/), [Angular CLI](https://cli.angular.io/), [Cordova](https://cordova.apache.org/), [Yeoman](http://yeoman.io/)æˆ–å…¶ä»–ç±»ä¼¼çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ä½†æœ‰æƒ³è¿‡è¿™äº›ç¨‹åºæ˜¯æ€ä¹ˆå®ç°çš„å—ï¼Ÿä¾‹å¦‚åœ¨Angular CLIä¸­ä½¿ç”¨`ng new <project-name>`åä¼šå»ºç«‹ä¸€ä¸ªå·²ç»æœ‰åŸºæœ¬é…ç½®çš„angularé¡¹ç›®ï¼›åˆæˆ–è€…åƒYeomanï¼Œä¹Ÿèƒ½è¿è¡Œæ—¶å€™è¾“å…¥æˆ–è€…é€‰æ‹©é…ç½®é¡¹ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿè‡ªå®šä¹‰é¡¹ç›®é…ç½®ï¼Œå¿«é€Ÿæ­å»ºå¥½å¼€å‘æ—¶å€™éœ€è¦ç”¨åˆ°çš„å¼€å‘ç¯å¢ƒã€‚ä¸‹é¢çš„æ•™ç¨‹ï¼Œå°±æ˜¯è®²å¦‚ä½•ä½¿ç”¨nodeå†™ä¸€ä¸ªåƒè¿™æ ·çš„å‘½ä»¤è¡Œå·¥å…·ã€‚\\n\\nåœ¨è¿™ç¯‡æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šå¼€å‘ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æˆ·èƒ½å¤Ÿè¾“å…¥ä¸€ä¸ªCSVæ–‡ä»¶åœ°å€ï¼Œä»è€Œè·å–åˆ°æ–‡ä»¶é‡Œé¢çš„ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åæ¨¡æ‹Ÿç¾¤å‘é‚®ä»¶ï¼ˆåŸæ–‡æ˜¯ä½¿ç”¨[SendGrid Api](https://github.com/sendgrid/sendgrid-nodejs)æ¨¡æ‹Ÿå‘é€ï¼‰\\næ–‡ç« ç›®å½•ï¼š\\n1.\\\"Hello World\\\"\\n2.å¤„ç†å‘½ä»¤è¡Œå‚æ•°\\n3.è¿è¡Œæ—¶è¾“å…¥å‚æ•°\\n4.æ¨¡æ‹Ÿå‘é€é‚®ä»¶\\n5.æ”¹å˜è¾“å‡ºå†…å®¹æ ·å¼\\n6.å˜æˆshellå‘½ä»¤\\n\\n\",\"frontmatter\":{\"title\":\"ä½¿ç”¨nodejså†™ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åº\",\"date\":\"2017-05-16\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/node-command-app\"}}},{\"node\":{\"excerpt\":\"\\nå¥½ä¹…ä¹‹å‰åšå¾—ä¸€ä¸ªtodo demoï¼Œä½¿ç”¨äº†æœ€è¿‘è¾ƒç«çš„reactå’Œwebpackï¼Œç”±äºå…¬å¸ç”µè„‘å„ç§ä¸èƒ½è£…ï¼Œæ‰€ä»¥æ²¡ç”¨ä¸Šes6ï¼ˆå„ç§é™åˆ¶å¤ªæƒ¨äº†ï¼‰ï¼Œåœ¨è¿™é¡ºä¾¿åšä¸ªè®°å½•ï¼Œå¹´çºªå¤§è®°æ€§å¤ªå·®äº†ã€‚\\n\\n### å°ç§‘æ™®\\nä»€ä¹ˆæ˜¯React? æŒ‰å®˜æ–¹è§£é‡Šï¼Œæ¡†æ¶å±äºMVCä¸­çš„viewå±‚ï¼Œç”±äºå…¶è®¾è®¡æ€æƒ³ç‹¬ç‰¹ï¼Œæ€§èƒ½å‡ºä¼—ï¼Œé€»è¾‘ç®€å•ï¼Œæ‰€ä»¥ä¸Šå¹´å¼€å§‹è¶Šæ¥è¶Šå¤šäººå…³æ³¨ã€‚\\nè‡³äºWebpackï¼Œå„ä½å®˜äººä»åå­—åº”è¯¥å¯ä»¥çŒœå‡ºï¼Œæ˜¯ä¸ªæ‰“åŒ…å·¥å…·ï¼Œä½†åˆä¸æ­¢æ˜¯ä¸ªæ‰“åŒ…å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒæ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·ï¼Œä¸¤ä¸ªå­—å°±å¯ä»¥å½¢å®¹å®ƒçš„ä¼˜ç‚¹äº†ï¼Œå°±æ˜¯æš´åŠ›ï¼Œç©¶ç«Ÿæœ‰å¤šæš´åŠ›ï¼Œä¸‹é¢demoå°±ä¸ºå„ä½å®˜äººæ­æ™“ï¼\\n\\n\",\"frontmatter\":{\"title\":\"React-todo demo\",\"date\":\"2016-03-02\",\"category\":[\"js framework\"],\"path\":\"/post/react-todo\"}}}]}},\"pathContext\":{\"nodes\":[{\"node\":{\"frontmatter\":{\"title\":\"webpack2æ–°ç‰¹æ€§&è¿ç§»\",\"date\":\"2017-06-24\",\"category\":[\"å‰ç«¯å·¥å…·\"],\"tags\":[\"webpack\"],\"path\":\"/post/webpack2\"},\"excerpt\":\"\\nwebpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚\\n\\n# ä»webpack1ä¸­è¿ç§»\\nå®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„[è¿ç§»æŒ‡å—](https://webpack.js.org/guides/migrating/)ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚\\n\\n## é…ç½®æ–‡ä»¶\\nå¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚\\n\\n### `module.loaders`å˜æˆ`module.rules`\\næ—§çš„`module.loader`è¢«`module.rules`å–ä»£ï¼Œåè€…å…è®¸é…ç½®`loader`æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£[module.rules](https://webpack.js.org/configuration/module/#module-rules)\\n\\n```javascript\\n// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n```\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"ä»webpack1ä¸­è¿ç§»\"},{\"depth\":2,\"value\":\"é…ç½®æ–‡ä»¶\"},{\"depth\":3,\"value\":\"å˜æˆ\"},{\"depth\":3,\"value\":\"æ”¹åŠ¨\"},{\"depth\":3,\"value\":null},{\"depth\":3,\"value\":\"CLIä¸­é…ç½®ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°\"},{\"depth\":2,\"value\":\"ä¸»è¦å˜æ›´\"},{\"depth\":3,\"value\":\"ES6æ¨¡å—\"},{\"depth\":1,\"value\":\"æ€»ç»“\"},{\"depth\":2,\"value\":\"å‚è€ƒ\"}],\"html\":\"<p>webpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚</p>\\n<h1>ä»webpack1ä¸­è¿ç§»</h1>\\n<p>å®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„<a href=\\\"https://webpack.js.org/guides/migrating/\\\">è¿ç§»æŒ‡å—</a>ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚</p>\\n<h2>é…ç½®æ–‡ä»¶</h2>\\n<p>å¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚</p>\\n<h3><code>module.loaders</code>å˜æˆ<code>module.rules</code></h3>\\n<p>æ—§çš„<code>module.loader</code>è¢«<code>module.rules</code>å–ä»£ï¼Œåè€…å…è®¸é…ç½®<code>loader</code>æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£<a href=\\\"https://webpack.js.org/configuration/module/#module-rules\\\">module.rules</a></p>\\n<pre><code class=\\\"language-javascript\\\">// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n</code></pre>\\n<!-- more -->\\n<pre><code class=\\\"language-javascript\\\">// ...\\nmodule: {\\n    rules: {\\n        test: /\\\\.less$/,\\n        use: ['style-loader', 'css-loader', 'less-loader']\\n    }\\n}\\n// ...\\n</code></pre>\\n<p>é™¤ä¸Šé¢ä¸¤é¡¹å¤–è¿˜æœ‰</p>\\n<ul>\\n<li>ç°åœ¨æŒ‡å®šloaderçš„æ—¶å€™ä¸èƒ½å†çœç•¥<code>-loader</code>åç¼€ã€‚å…·ä½“åŸå› å‚é˜…<a href=\\\"https://github.com/webpack/webpack/issues/2986\\\">#2968</a></li>\\n<li><code>json-loader</code>ä¸éœ€å†æ‰‹åŠ¨æ·»åŠ ã€‚</li>\\n<li>loaderé»˜è®¤çš„resolveé…ç½®æ˜¯ç›¸å¯¹äº<code>context</code>é…ç½®é¡¹çš„ã€‚</li>\\n<li>å–æ¶ˆäº†<code>module.preLoaders</code>ä»¥åŠ<code>module.postLoaders</code>ã€‚</li>\\n</ul>\\n<h3><code>UglifyPlugin</code>æ”¹åŠ¨</h3>\\n<ul>\\n<li><code>UglifyPlugin</code>çš„<code>sourceMap</code>ç°åœ¨çš„é»˜è®¤å€¼çš„<code>false</code>è€Œä¸æ˜¯<code>true</code>ã€‚</li>\\n<li><code>UglifyJsPlugin</code>çš„<code>compress.warnings</code>é…ç½®é¡¹ç°åœ¨é»˜è®¤ä¸º<code>false</code>è€Œä¸æ˜¯<code>true</code>ã€‚</li>\\n</ul>\\n<h3><code>ExtractTextWebpackPlugin</code></h3>\\n<p>æ’ä»¶å˜åŒ–ä¸»è¦ä½“ç°åœ¨è¯­æ³•ä¸Šï¼ŒåˆåŸæ¥çš„å•ä¸ªå‚æ•°ä¼ å˜æˆäº†å¯¹è±¡ï¼Œç°åœ¨çš„é…ç½®æ–¹å¼å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">// ExtractTextPlugin.extract\\nmodule: {\\n    rules: [\\n        test: /\\\\.css$/,\\n        loader: ExtractTextPlugin.extract({\\n            fallbackLoader: 'style-loader',\\n            loader: 'css-loader',\\n            publicPath: '/dist'\\n        })\\n    ]\\n}\\n\\n// new ExtractTextPlugin({options})\\nplugins: [\\n    new ExtractTextPlugin({\\n        filename: 'bundle.css',\\n        disabled: true,\\n        allChunks: true\\n    })\\n]\\n</code></pre>\\n<h3>CLIä¸­é…ç½®ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°</h3>\\n<p>åœ¨webpack1ä¸­å¯ä»¥ç”¨<code>process.argv</code>è·å–è‡ªå®šä¹‰å‚æ•°ï¼Œä½†æ˜¯åœ¨webpack2ä¸­è¿™è¡Œä¸ºè¢«ç¦æ­¢äº†ï¼Œæ›¿ä»£åœ°æä¾›äº†ä¸€ä¸ªæ¥å£<code>env</code>å»è·å–è‡ªå®šä¹‰å‚æ•°</p>\\n<pre><code class=\\\"language-javascript\\\">module.export = function(env) {\\n    var customStuff = env.customStuff;\\n\\n    // ...\\n    return config;\\n};\\n</code></pre>\\n<h2>ä¸»è¦å˜æ›´</h2>\\n<h3>ES6æ¨¡å—</h3>\\n<p>webpack2ç°åœ¨å¢åŠ å¯¹ES6çš„æ¨¡å—åŒ–çš„åŸç”Ÿæ”¯æŒï¼Œæ„å‘³ç€ç°åœ¨èƒ½å¤Ÿç›´æ¥è¯†åˆ«<code>import</code>å’Œ<code>export</code>äº†ï¼Œä¸éœ€è¦å…ˆè½¬æˆCommonJSæ¨¡å—çš„æ ¼å¼ã€‚\\næ”¯æŒåŸç”Ÿ<code>import</code>å¸¦æ¥çš„å½±å“å°±æ˜¯æ”¯æŒå¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œwebpack1ä½¿ç”¨å¼‚æ­¥æ¨¡å—çš„æ—¶å€™å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">require.ensure(['a'], function(a) {\\n    a.doSomething()\\n}, 'chunkName')\\n</code></pre>\\n<p>webpack2çš„<code>import</code>ä¼šè¿”å›ä¸€ä¸ª<code>promise</code>å¯¹è±¡</p>\\n<pre><code class=\\\"language-javascript\\\">import('a').then(function(a) {\\n    a.doSomething()\\n})\\n</code></pre>\\n<p>è€Œä¸”ç°åœ¨<strong>chunkåŠ è½½å¤±è´¥èƒ½è¢«Promiseæ•æ‰åˆ°</strong>ï¼Œé‚£å°±æ„å‘³ç€æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç»„ä»¶åŠ è½½å¤±è´¥çš„æ—¶å€™é‡‡å–ç›¸åº”çš„æ“ä½œã€‚</p>\\n<p>å¦å¤–ç°åœ¨<code>import</code>è¿˜æ”¯æŒåŠ¨æ€è¡¨è¾¾å¼ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function route(path, query) {\\n    return import('/routes/${path}/route').then(route => new route.Route(query);\\n    })\\n}\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>ç”¨ç€<em>vim-mode</em>ï¼Œå†™å®Œè¿™ç¯‡å·²ç»å®Œå…¨å¤´çš®å‘éº»äº†ï¼Œå®Œå…¨ç†Ÿæ‚‰ä¼°è®¡ä¸çŸ¥é“è¿˜è¦å¤šä¹…å‘¢ã€‚å›æ­£é¢˜ï¼ŒÂ·ä»å®˜æ–¹æ–‡æ¡£æ¥çœ‹ï¼Œæ”¹åŠ¨çš„åœ°æ–¹çš„ç¡®ä¸å¤šï¼Œè¿ç§»æˆæœ¬åº”è¯¥æ˜¯æ¯”è¾ƒä½çš„ï¼Œè‡³äºè¦ä¸è¦è¿ç§»æˆ‘è§‰å¾—è¿˜æ˜¯è§ä»è§æ™ºå§ï¼Œå¦‚æœæ–°ç‰ˆçš„ä¼˜ç‚¹å¥½å¤„å¤§äºè¿ç§»çš„æˆæœ¬çš„è¯å„ä½åº”è¯¥å¯ä»¥æ”¾å¿ƒå»æ”¹åŠ¨ä½ çš„é…ç½®æ–‡ä»¶äº†ã€‚æ€»çš„æ¥è¯´webpack2æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹</p>\\n<ul>\\n<li>ç¼–è¯‘é€Ÿåº¦æé«˜</li>\\n<li>ç¼–è¯‘æ–‡ä»¶å¤§å°ç›¸å¯¹å‡å°‘äº†</li>\\n<li>æ”¯æŒpromise</li>\\n<li>èƒ½æ•æ‰åˆ°chunkåŠ è½½å¤±è´¥</li>\\n</ul>\\n<h2>å‚è€ƒ</h2>\\n<ul>\\n<li><a href=\\\"https://webpack.js.org/guides/migrating/\\\">Migrating from v1 to v2</a></li>\\n<li><a href=\\\"http://www.tuicool.com/articles/aieAnan\\\">å‡çº§åˆ° webpack2</a></li>\\n<li><a href=\\\"http://imweb.io/topic/58666d57b3ce6d8e3f9f99b0\\\">webpack2 çš„ tree-shaking å¥½ç”¨å—ï¼Ÿ</a></li>\\n</ul>\",\"htmlExcerpt\":\"<p>webpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚</p>\\n<h1>ä»webpack1ä¸­è¿ç§»</h1>\\n<p>å®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„<a href=\\\"https://webpack.js.org/guides/migrating/\\\">è¿ç§»æŒ‡å—</a>ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚</p>\\n<h2>é…ç½®æ–‡ä»¶</h2>\\n<p>å¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚</p>\\n<h3><code>module.loaders</code>å˜æˆ<code>module.rules</code></h3>\\n<p>æ—§çš„<code>module.loader</code>è¢«<code>module.rules</code>å–ä»£ï¼Œåè€…å…è®¸é…ç½®<code>loader</code>æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£<a href=\\\"https://webpack.js.org/configuration/module/#module-rules\\\">module.rules</a></p>\\n<pre><code class=\\\"language-javascript\\\">// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n</code></pre>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript-é—­åŒ…\",\"date\":\"2017-06-14\",\"category\":null,\"tags\":null,\"path\":\"/post/js-closures\"},\"excerpt\":\"\\n# ä»€ä¹ˆæ˜¯é—­åŒ…\\nè®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚\\n\\n> å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰\\n\\nç„¶åçœ‹ä¸ªä¾‹å­\\n```javascript\\nfunction foo() {\\n\\tvar a = 2;\\n\\n\\tfuntion bar() {\\n\\t\\tconsole.log(a);\\n\\t}\\n\\n\\tbar();\\n}\\n\\nfoo();\\n```\\nå¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯**ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯**ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯`bar`å¯¹`a`çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯**é—­åŒ…**çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­\\n\\n```javascript\\nfucntion foo() {\\n\\tvar a = 2;\\n\\n\\tfunction bar() {\\n\\t\\tconsole.log(a)\\n\\t}\\n\\n\\treturn bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n```\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"ä»€ä¹ˆæ˜¯é—­åŒ…\"},{\"depth\":1,\"value\":\"é—­åŒ…ä¸å˜é‡\"},{\"depth\":1,\"value\":\"æ¨¡å—\"},{\"depth\":2,\"value\":\"ç°ä»£çš„æ¨¡å—æœºåˆ¶\"},{\"depth\":1,\"value\":\"æ€»ç»“\"}],\"html\":\"<h1>ä»€ä¹ˆæ˜¯é—­åŒ…</h1>\\n<p>è®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚</p>\\n<blockquote>\\n<p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰</p>\\n</blockquote>\\n<p>ç„¶åçœ‹ä¸ªä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a = 2;\\n\\n    funtion bar() {\\n        console.log(a);\\n    }\\n\\n    bar();\\n}\\n\\nfoo();\\n</code></pre>\\n<p>å¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯<strong>ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯</strong>ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯<code>bar</code>å¯¹<code>a</code>çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯<strong>é—­åŒ…</strong>çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">fucntion foo() {\\n    var a = 2;\\n\\n    function bar() {\\n        console.log(a)\\n    }\\n\\n    return bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n</code></pre>\\n<!-- more -->\\n<p>åœ¨è¿™ä¾‹å­ä¸­ï¼Œ<code>bar</code>ä¹Ÿæ˜¯åœ¨<code>foo</code>çš„ä½œç”¨åŸŸå†…ï¼Œä½†æ˜¯ä¸æ˜¯ç›´æ¥æ‰§è¡Œï¼Œè€Œæ˜¯ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚\\n<code>foo()</code>æ‰§è¡Œåï¼Œè¿”å›å€¼<code>bar</code>èµ‹å€¼ç»™<code>baz</code>å¹¶æ‰§è¡Œ<code>baz()</code>ï¼Œåœ¨è¿™é‡Œï¼Œ<code>bar()</code>æ˜¾ç„¶å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼Œå®ƒåœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸ<strong>ä»¥å¤–</strong>çš„åœ°æ–¹ã€‚</p>\\n<p>åœ¨<code>foo()</code>æ‰§è¡Œä¹‹åï¼ŒæŒ‰jsçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œåº”è¯¥ä¼šå¯¹å…¶è¿›è¡Œå›æ”¶ï¼Œè€Œé—­åŒ…çš„ç¥å¥‡ä¹‹å¤„å°±æ˜¯å¯ä»¥é˜»æ­¢è¿™äº‹æƒ…å‘ç”Ÿï¼Œå› æ­¤<code>baz()</code>åœ¨æ‰§è¡Œçš„æ—¶å€™ä¾ç„¶å¯ä»¥è®¿é—®<code>a</code>ã€‚åœ¨æ­¤ä¸€çœ‹ï¼ŒåŸæ¥å¹³æ—¶å†™çš„å¤§å¤šæ•°ä»£ç éƒ½æ˜¯é—­åŒ…å•Šã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a = 2;\\n\\n    function bar() {\\n        console.log(a);\\n    }\\n\\n    baz(bar);\\n}\\n\\nfunction baz(fn) {\\n    fn &#x26;&#x26; fn(); // è¿™é‡Œä¹Ÿæ˜¯é—­åŒ…\\n}\\n</code></pre>\\n<h1>é—­åŒ…ä¸å˜é‡</h1>\\n<p>è¦è¯´æ˜é—­åŒ…ï¼Œforå¾ªç¯ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">for(var i = 1; i &#x3C;= 10; i++) {\\n    setTimeout(function timer() {\\n        console.log(i)\\n    }, i * 1000)\\n}\\n</code></pre>\\n<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šé¢„æœŸçš„è®¤ä¸ºè¿™æ®µä¼šæ¯ç§’è¾“å‡º1ï½10ï¼Œä½†å®é™…ï¼Œè¿™æ®µä»£ç ä¼š<strong>æ¯ç§’è¾“å‡º10æ¬¡11</strong>ã€‚</p>\\n<p>é¦–å…ˆ<strong>11</strong>æ˜¯é‚£é‡Œæ¥çš„ï¼Œè¿™ä¸ªå¾ªç¯åº”è¯¥æ˜¯åœ¨<code>i=11</code>çš„æ—¶å€™ç¬¦åˆç»ˆæ­¢æ¡ä»¶ï¼Œæ‰€ä»¥ä»£ç è¾“å‡ºçš„æ˜¯å¾ªç¯ç»“æŸæ—¶<strong>i</strong>çš„æœ€ç»ˆå€¼ã€‚</p>\\n<p>ç»†æƒ³ä¸€ä¸‹ï¼Œç­”æ¡ˆå…¶å®æ˜¾è€Œæ˜“è§ï¼Œ<strong>setTimeout</strong>ä¼šæ¨åˆ°æ ˆåº•éƒ¨æ‰§è¡Œï¼Œæ‰€ä»¥ä¼šåœ¨å¾ªç¯ç»“æŸåæ‰å¼€å§‹æ‰§è¡Œï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½æ˜¯è¾“å‡º<strong>11</strong>ã€‚ä½†æ˜¯ä»€ä¹ˆé—®é¢˜é€ æˆè¿™æ ·çš„ç»“æœå‘¢ã€‚</p>\\n<p>è™½ç„¶<strong>setTimeout</strong>éƒ½æ˜¯åœ¨æ¯ä¸ªè¿­ä»£æ—¶å€™åˆ†åˆ«å®šä¹‰çš„ï¼Œä½†æ˜¯æ ¹æ®ä½œç”¨åŸŸåŸç†ï¼Œå…¶å®å‡ ä¸ªå‡½æ•°éƒ½æ˜¯éƒ½æ˜¯<strong>ä¿å­˜åœ¨ä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸä¸­</strong>ï¼Œå› æ­¤å®ƒä»¬å¼•ç”¨éƒ½æ˜¯åŒä¸€ä¸ª<strong>æ¥è‡ªå…¨å±€çš„i</strong>ã€‚</p>\\n<p>æ‰€ä»¥è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬éœ€è¦æ¯æ¬¡å¾ªç¯éƒ½æ–°å»ºä¸€ä¸ªä½œç”¨åŸŸï¼Œç„¶åæŠŠè¿­ä»£çš„å€¼ä¼ å…¥ä½œç”¨åŸŸä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨<strong>IIFE</strong>ï¼ˆä¸Šä¸€ç¯‡ä½œç”¨åŸŸæœ‰ä»‹ç»ï¼ŒIIFEæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä½œç”¨åŸŸï¼‰æ¥è§£å†³</p>\\n<pre><code class=\\\"language-javascript\\\">for(var i = 1; i &#x3C;= 10; i++) {\\n    (function(j) {\\n        setTimeout(function timer() {\\n            console.log(j)\\n        }, j * 1000)\\n    })(i)\\n}\\n\\n// æ¢æˆES6ä¸­çš„letä¹Ÿå¯ä»¥\\nfor(let i = 1; i &#x3C;= 10; i++) {\\n    setTimeout(function timer() {\\n        console.log(i)\\n    }, i * 1000)\\n}\\n</code></pre>\\n<h1>æ¨¡å—</h1>\\n<p>é—­åŒ…é™¤äº†å¹³æ—¶å®ç°çš„å›è°ƒåŠŸèƒ½å¤–ï¼Œè¿˜å¯ä»¥å®ç°å¦å¤–ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œ<strong>æ¨¡å—</strong>ã€‚\\næ—§çš„æ¨¡å—å®ç°æ–¹å¼ï¼Œå¦‚jQueryå°±å¯ä»¥ä½¿ç”¨é—­åŒ…å®ç°</p>\\n<pre><code class=\\\"language-javascript\\\">var $ = jQuery = (function Module(id) {\\n    var a = 2;\\n\\n    function doSomething() {\\n        console.log(a);\\n    }\\n\\n    function identify1() {\\n        console.log(id);\\n    }\\n\\n    function identify2() {\\n        console.log(id.toUpperCase());\\n    }\\n\\n    function change() {\\n        public.identify = identify2;\\n    }\\n\\n    var public = {\\n        doSomething: doSomething,\\n        identify: identify1,\\n        change: change\\n    }\\n\\n    return public;\\n})('hello')\\n\\n$.doSomething() // 2\\n$.identify() // hello\\n$.change()\\n$.identify() // HELLO\\n</code></pre>\\n<p>å¦‚æœä¸ç”¨å•ä¾‹çš„è¯ä¸ç”¨<strong>IIFE</strong>å³å¯ï¼Œé€šè¿‡åœ¨æ¨¡å—å†…ä¿ç•™å¯¹å…¬å…±APIçš„å¼•ç”¨ï¼Œå¯ä»¥ä»<strong>å†…éƒ¨</strong>å¯¹æ¨¡å—å®ä¾‹è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬æ·»åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p>\\n<h2>ç°ä»£çš„æ¨¡å—æœºåˆ¶</h2>\\n<p>ç°åœ¨å¤§éƒ¨åˆ†çš„æ¨¡å—åŠ è½½å™¨æœ¬è´¨ä¸Šéƒ½æ˜¯å°†è¿™ç§æ¨¡å—å®šä¹‰å°è£…è¿›APIä¸­ï¼Œå¦‚ä¸‹ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">var Module = (function Manager() {\\n    var modules = {};\\n\\n    function define(name, deps, impl) {\\n        for(var i = 0; i &#x3C; deps.length; i++) {\\n            // åœ¨modulesä¸­å¯»æ‰¾åå­—ä¸ºdeps[i]çš„æ¨¡å—\\n            deps[i] = modules[deps[i]];\\n        }\\n        // å°†ä¾èµ–çš„æ¨¡å—ä½œä¸ºargumentsä¼ å…¥moduleä¸­\\n        modules[name] = impl.apply(impl, deps);\\n    }\\n\\n    function require(name) {\\n        return modules[name];\\n    }\\n\\n    return {\\n        define: define,\\n        require: require\\n    }\\n})()\\n</code></pre>\\n<p>è¿™æ®µä»£ç æ ¸å¿ƒåœ¨<code>module[name] = impl.apply(impl, deps)</code>ä¸­ï¼Œæ¨¡å—éƒ½æŒ‰åå­—ä¿å­˜åœ¨<code>modules</code>å˜é‡ä¸­ï¼Œæ¯æ¬¡éƒ½èƒ½æ ¹æ®è·å–ç›¸å…³æ¨¡å—ã€‚ä¸‹é¢çœ‹çœ‹ä½¿ç”¨æ–¹å¼ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">Module.define('foo', [], function() {\\n    function hello(who) {\\n        return 'Hello ' + who;\\n    }\\n\\n    return {\\n        hello: hello\\n    }\\n})\\n\\nModule.define('bar', ['foo'], function(foo) {\\n    function awsome() {\\n        return foo.hello('kit').toUpperCase();\\n    }\\n\\n    return {\\n        awsome: awsome\\n    }\\n})\\n\\nvar foo = Module.require('foo'),\\n    bar = Module.require('bar');\\n\\nfoo.hello('kit'); // Hello kit\\nbar.awsome() // HELLO KIT\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>ä»ä¸Šé¢å¯ä»¥çŸ¥é“ï¼Œå¹³æ—¶å†™çš„jså¤§éƒ¨åˆ†ä»£ç éƒ½ä½¿ç”¨äº†é—­åŒ…ï¼Œé€šè¿‡äº†è§£é—­åŒ…å’Œä½œç”¨åŸŸçš„è¿è¡Œæ–¹å¼ï¼Œèƒ½å¤Ÿå‡å°‘å¹³æ—¶ä½¿ç”¨çš„å‡ºç°çš„é”™è¯¯ã€‚ä¹Ÿèƒ½é€šè¿‡é—­åŒ…ï¼Œä½¿ç”¨jså®ç°æ¨¡å—åŒ–ç­‰å…¶ä»–æ›´å¤šçš„åŠŸèƒ½ã€‚</p>\",\"htmlExcerpt\":\"<h1>ä»€ä¹ˆæ˜¯é—­åŒ…</h1>\\n<p>è®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚</p>\\n<blockquote>\\n<p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰</p>\\n</blockquote>\\n<p>ç„¶åçœ‹ä¸ªä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a = 2;\\n\\n    funtion bar() {\\n        console.log(a);\\n    }\\n\\n    bar();\\n}\\n\\nfoo();\\n</code></pre>\\n<p>å¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯<strong>ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯</strong>ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯<code>bar</code>å¯¹<code>a</code>çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯<strong>é—­åŒ…</strong>çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">fucntion foo() {\\n    var a = 2;\\n\\n    function bar() {\\n        console.log(a)\\n    }\\n\\n    return bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n</code></pre>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"ç”¨pythonå†™ä¸€ä¸ªç®€å•çˆ¬è™«\",\"date\":\"2017-06-11\",\"category\":null,\"tags\":null,\"path\":\"/post/python-crawler\"},\"excerpt\":\"\\nä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚\\n\\n# ä¸»è¦éœ€æ±‚\\nè¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ**URLç®¡ç†å™¨**ã€**ä¸‹è½½å™¨**ã€**è§£æå™¨**\\n* URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚\\n* ä¸‹è½½å™¨ä¼šé€šè¿‡**URLç®¡ç†å™¨**ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚\\n* è§£æå™¨ä¼šå°†**ä¸‹è½½å™¨**ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™**URLç®¡ç†å™¨**è¿›è¡Œé‡å¤æ“ä½œã€‚\\n\\n## å…¥å£ç¨‹åº\\n`spider_main`æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"ä¸»è¦éœ€æ±‚\"},{\"depth\":2,\"value\":\"å…¥å£ç¨‹åº\"},{\"depth\":2,\"value\":\"urlç®¡ç†å™¨\"},{\"depth\":2,\"value\":\"ä¸‹è½½å™¨\"},{\"depth\":2,\"value\":\"è§£æå™¨\"},{\"depth\":1,\"value\":\"æ€»ç»“\"}],\"html\":\"<p>ä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚</p>\\n<h1>ä¸»è¦éœ€æ±‚</h1>\\n<p>è¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ<strong>URLç®¡ç†å™¨</strong>ã€<strong>ä¸‹è½½å™¨</strong>ã€<strong>è§£æå™¨</strong></p>\\n<ul>\\n<li>URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚</li>\\n<li>ä¸‹è½½å™¨ä¼šé€šè¿‡<strong>URLç®¡ç†å™¨</strong>ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚</li>\\n<li>è§£æå™¨ä¼šå°†<strong>ä¸‹è½½å™¨</strong>ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™<strong>URLç®¡ç†å™¨</strong>è¿›è¡Œé‡å¤æ“ä½œã€‚</li>\\n</ul>\\n<h2>å…¥å£ç¨‹åº</h2>\\n<p><code>spider_main</code>æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘</p>\\n<!-- more -->\\n<pre><code class=\\\"language-python\\\">import url_manager, html_downloader, html_outputer, html_parser\\nimport sys\\n\\nclass SpiderMain(object):\\n    def __init__(self):\\n        self.urls = url_manager.UrlManager()\\n        self.downloder = html_downloader.HtmlDownloader()\\n        self.parser = html_parser.HtmlParser()\\n        self.outputer = html_outputer.HtmlOutputer()\\n\\n    def crawl(self, root_url):\\n        count = 1\\n        # åˆå§‹åŒ–åŸå§‹çš„çˆ¬å–åœ°å€\\n        self.urls.add_new_ursl(root_url)\\n\\n        while self.urls.has_new_url():\\n            try:\\n                new_url = self.urls.get_new_url()\\n                print 'crawl %d : %s' % (count, new_url)\\n                html_cont = self.downloder.download(new_url)\\n                new_urls, new_data = self.parser.parse(new_url, html_cont)\\n\\n                self.urls.add_new_urls(new_urls)\\n                self.outputer.collect_data(new_data)\\n\\n                # çˆ¬å–çš„æ•°æ®åˆ°1000æ¡æ—¶è·³å‡ºå¾ªç¯\\n                if count == 1000:\\n                    break\\n\\n                count = count + 1\\n            except:\\n                # ä½¿ç”¨sysæŠ›å‡ºå…¶ä»–å‡½æ•°é”™è¯¯\\n                info=sys.exc_info()\\n                print info[0],\\\":\\\",info[1]\\n\\n                print 'crawl failed'\\n\\n        # å°†çˆ¬å–çš„æ•°æ®ç»„è£…\\n        self.outputer.output_html()\\n\\nif __name__ == '__main__':\\n    root_url = 'http://baike.baidu.com/item/Python'\\n    obj_spider = SpiderMain()\\n    obj_spider.crawl(root_url)\\n</code></pre>\\n<h2>urlç®¡ç†å™¨</h2>\\n<pre><code class=\\\"language-python\\\"># url_manager.py\\nclass UrlManager(object):\\n    def __init__(self):\\n        self.new_urls = set()\\n        self.old_urls = set()\\n\\n    # æ·»åŠ ä¸€æ¡æ–°çš„url\\n    def add_new_url(self, url):\\n        if url is None:\\n            return\\n\\n        if url not in self.new_urls and url not in self.old_urls:\\n            self.new_urls.add(url)\\n\\n    # æ·»åŠ å¤šæ¡url\\n    def add_new_urls(self, urls):\\n        if urls is None and len(urls) == 0:\\n            return\\n\\n        for url in urls:\\n            self.add_new_url(url)\\n\\n    # æ˜¯å¦æœ‰ä»£çˆ¬å–åœ°å€\\n    def has_new_url(self):\\n        return len(self.new_urls) != 0\\n\\n    # è¿”å›ä¸€æ¡æ–°çš„url\\n    def get_new_url(self):\\n        new_url = self.new_urls.pop()\\n        self.old_urls.add(new_url)\\n        return new_url\\n</code></pre>\\n<h2>ä¸‹è½½å™¨</h2>\\n<p>ä¸‹è½½å™¨ä½¿ç”¨è‡ªå¸¦çš„<a href=\\\"https://docs.python.org/2/library/urllib2.html\\\">urllib2</a>åº“å¤„ç†è¯·æ±‚</p>\\n<pre><code class=\\\"language-python\\\"># html_downloader.py\\nimport urllib2\\n\\nclass HtmlDownloader(object):\\n    def download(self, url):\\n        if url is None:\\n            return\\n\\n        # è¿™é‡Œè®¾ç½®ä¸€ä¸‹è¶…æ—¶ï¼Œä¸ç„¶ç½‘ç»œä¼šä½¿ç¨‹åºè¿è¡Œå‡ºç°åœæ­¢\\n        response = urllib2.urlopen(url, timeout = 5)\\n\\n        # è¯·æ±‚å¤±è´¥æ—¶å€™è·³å‡ºç¨‹åº\\n        if response.getcode() != 200:\\n            return None\\n\\n        return response.read()\\n</code></pre>\\n<h2>è§£æå™¨</h2>\\n<p>è§£æå™¨åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªè§£æï¼Œä¸€ä¸ªè¾“å‡ºï¼Œé¦–å…ˆçœ‹çœ‹è§£ææ¨¡å—ã€‚</p>\\n<p>è§£æhtmlæˆ‘ä»¬ä½¿ç”¨äº†<a href=\\\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html\\\">beautifulsoup</a>ï¼Œè§£æåå¯ä»¥ä½¿ç”¨åº“æä¾›çš„æ–¹æ³•åšDOMæ“ä½œï¼Œè·å–æœ‰ç”¨çš„ä¿¡æ¯</p>\\n<pre><code class=\\\"language-python\\\"># html_parser.py\\nfrom bs4 import BeautifulSoup\\nimport re\\nimport urlparse\\n\\nclass HtmlParser(object):\\n    def _get_new_urls(self, page_url, soup):\\n        new_urls = set()\\n\\n        # è·å–aæ ‡ç­¾ä¸­æ‰€æœ‰åŒ¹é…çš„urlåœ°å€\\n        links = soup.find_all('a', href=re.compile(r'/item/'))\\n        for link in links:\\n            new_url = link['href']\\n            new_full_url = urlparse.urljoin(page_url, new_url)\\n            new_urls.add(new_full_url)\\n\\n        return new_urls\\n\\n    def _get_new_data(self, page_url, soup):\\n        res_data = {}\\n\\n        # è·å–é¡µé¢ç›¸å…³å†…å®¹\\n        res_data['url'] = page_url\\n\\n        # &#x3C;dd class=\\\"lemmaWgt-lemmaTitle-title\\\"> &#x3C;h1>Python&#x3C;/h1>\\n        title_node = soup.find('dd', class_='lemmaWgt-lemmaTitle-title').find('h1')\\n        res_data['title'] = title_node.get_text()\\n\\n        # &#x3C;div class=\\\"lemma-summary\\\" label-module=\\\"lemmaSummary\\\">\\n        summary_node = soup.find('div', class_='lemma-summary')\\n        res_data['summary'] = summary_node.get_text()\\n\\n        return res_data\\n\\n    def parse(self, page_url, html_cont):\\n        if page_url is None or html_cont is None:\\n            return\\n\\n        soup = BeautifulSoup(html_cont, 'html.parser', from_encoding='utf-8')\\n        new_urls = self._get_new_urls(page_url, soup)\\n        new_data = self._get_new_data(page_url, soup)\\n\\n        return new_urls, new_data\\n</code></pre>\\n<pre><code class=\\\"language-python\\\"># html_outputer.py\\nclass HtmlOutputer(object):\\n    def __init__(self):\\n        self.datas = []\\n\\n    # è·å–åˆ°çš„é¡µé¢å†…å®¹å¯¹è±¡pushåˆ°æ•°ç»„ä¸­\\n    def collect_data(self, data):\\n        if data is None:\\n            return\\n\\n        self.datas.append(data)\\n\\n    # å°†æ•°ç»„å¾ªç¯æ‹¼æ¥ï¼Œå†™å…¥htmlæ–‡ä»¶ä¸­\\n    def output_html(self):\\n        fout = open('output.html', 'w')\\n\\n        fout.write('&#x3C;html>')\\n        fout.write('&#x3C;body>')\\n        fout.write('&#x3C;table>')\\n\\n        for data in self.datas:\\n            fout.write('&#x3C;tr>')\\n            fout.write('&#x3C;td>%s&#x3C;/td>'%data['url'])\\n            fout.write('&#x3C;td>%s&#x3C;/td>'%data['title'].encode('utf-8'))\\n            fout.write('&#x3C;td>%s&#x3C;/td>'%data['summary'].encode('utf-8'))\\n            fout.write('&#x3C;/tr>')\\n\\n        fout.write('&#x3C;/html>')\\n        fout.write('&#x3C;/body>')\\n        fout.write('&#x3C;/table>')\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>çŸ­çŸ­å‡ è¡Œä»£ç å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼Œè¶³ä»¥ä½“ç°pythonçš„ç®€å•æ˜“ç”¨ã€‚å­¦ä¹ pythonä¸»è¦æ˜¯æƒ³äº†è§£ä¸€ä¸‹æœºå™¨å­¦ä¹ ï¼Œåé¢ä¼šçœ‹ä¸€äº›ä¹¦ç±å’Œèµ„æ–™ï¼Œåº”è¯¥ä¼šå†è®°å½•ï¼Œä½†æ˜¯åé¢ä¼°è®¡ä¼šå…ˆå†™å®Œæ·±åº¦å­¦ä¹ javascriptç³»åˆ—å…ˆã€‚</p>\",\"htmlExcerpt\":\"<p>ä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚</p>\\n<h1>ä¸»è¦éœ€æ±‚</h1>\\n<p>è¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ<strong>URLç®¡ç†å™¨</strong>ã€<strong>ä¸‹è½½å™¨</strong>ã€<strong>è§£æå™¨</strong></p>\\n<ul>\\n<li>URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚</li>\\n<li>ä¸‹è½½å™¨ä¼šé€šè¿‡<strong>URLç®¡ç†å™¨</strong>ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚</li>\\n<li>è§£æå™¨ä¼šå°†<strong>ä¸‹è½½å™¨</strong>ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™<strong>URLç®¡ç†å™¨</strong>è¿›è¡Œé‡å¤æ“ä½œã€‚</li>\\n</ul>\\n<h2>å…¥å£ç¨‹åº</h2>\\n<p><code>spider_main</code>æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘</p>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript--ä½œç”¨åŸŸ\",\"date\":\"2017-05-31\",\"category\":null,\"tags\":null,\"path\":\"/post/js-scope\"},\"excerpt\":\"\\n# å‰è¨€\\nä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚\\n\\n# ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ\\nJSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º**ä½œç”¨åŸŸ**ã€‚\\n\\n\\n\\n## ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹\\nå¦‚åœ¨`var a = 2`æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚\\n\\né¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚\\n1. é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚\\n2. æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º**å¼•æ“**ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†`a = 2`è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®**ä½œç”¨åŸŸ**å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª`a`çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ**å¼•æ“**å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ**å¼•æ“**æ‰¾åˆ°`a`å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ**å¼•æ“**ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚\\n\\n**æ€»ç»“**ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ**ç¼–è¯‘å™¨**ä¼šåœ¨å½“å‰**ä½œç”¨åŸŸ**ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"å‰è¨€\"},{\"depth\":1,\"value\":\"ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ\"},{\"depth\":2,\"value\":\"ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹\"},{\"depth\":3,\"value\":\"LSHå’ŒRSHæŸ¥è¯¢\"},{\"depth\":2,\"value\":\"æå‡\"},{\"depth\":3,\"value\":\"å‡½æ•°ä¼˜å…ˆ\"},{\"depth\":2,\"value\":\"ä½œç”¨åŸŸåµŒå¥—\"},{\"depth\":1,\"value\":\"å‡½æ•°ä½œç”¨åŸŸ\"},{\"depth\":1,\"value\":\"å—ä½œç”¨åŸŸ\"},{\"depth\":2,\"value\":\"å»¶é•¿ä½œç”¨åŸŸé“¾(å—ä½œç”¨åŸŸ)\"},{\"depth\":1,\"value\":\"æ€»ç»“\"}],\"html\":\"<h1>å‰è¨€</h1>\\n<p>ä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p>\\n<h1>ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ</h1>\\n<p>JSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º<strong>ä½œç”¨åŸŸ</strong>ã€‚</p>\\n<h2>ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹</h2>\\n<p>å¦‚åœ¨<code>var a = 2</code>æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚</p>\\n<p>é¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚</p>\\n<ol>\\n<li>é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚</li>\\n<li>æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º<strong>å¼•æ“</strong>ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†<code>a = 2</code>è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®<strong>ä½œç”¨åŸŸ</strong>å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª<code>a</code>çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ<strong>å¼•æ“</strong>å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ<strong>å¼•æ“</strong>æ‰¾åˆ°<code>a</code>å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ<strong>å¼•æ“</strong>ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</li>\\n</ol>\\n<p><strong>æ€»ç»“</strong>ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ<strong>ç¼–è¯‘å™¨</strong>ä¼šåœ¨å½“å‰<strong>ä½œç”¨åŸŸ</strong>ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p>\\n<!-- more -->\\n<h3>LSHå’ŒRSHæŸ¥è¯¢</h3>\\n<p>å®šä¹‰ä¸€ä¸ªå˜é‡<code>var a = 2</code>ï¼Œæˆ–è€…æ‰§è¡Œä¸€ä¸ªç®€å•çš„å‡½æ•°<code>console.log(2)</code>ä¸­ï¼Œä¼šåŒæ—¶æˆ–è€…å•ç‹¬å‡ºç°<strong>LSH</strong>æˆ–è€…<strong>RSH</strong>æŸ¥è¯¢ã€‚å…¶å®åœ¨ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯LSHæŸ¥è¯¢ï¼Œç¬¬äºŒæ­¥å°±æ˜¯RSHæŸ¥è¯¢ï¼Œç®€å•ç‚¹æ¥è¯´</p>\\n<ul>\\n<li>LSHæŸ¥è¯¢å°±æ˜¯æ‰¾åˆ°å˜é‡çš„å®¹å™¨æœ¬èº«</li>\\n<li>RSHæŸ¥è¯¢å°±æ˜¯æ‰¾åˆ°å®¹å™¨çš„åŸå€¼</li>\\n</ul>\\n<pre><code class=\\\"language-javascript\\\">// var aå°±æ˜¯LSH\\n// a = 2å°±æ˜¯RSH\\nvar a = 2;\\n\\n// è¿™é‡Œçš„aå…¶å®å°±æ˜¯åšäº†ä¸€ä¸ªRSHæŸ¥è¯¢\\nconsole.log(a)\\n</code></pre>\\n<p>ä¸ºä»€ä¹ˆéœ€è¦ç†è§£è¿™ä¸¤ä¸ªæ¦‚å¿µå‘¢ï¼Œå› ä¸ºåœ¨å˜é‡æ²¡æœ‰å£°æ˜çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ç§æŸ¥è¯¢çš„è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo(a) {\\n    console.log(a + b);\\n    b = a;\\n}\\n\\nfoo(2);\\n</code></pre>\\n<p>åœ¨ç¬¬ä¸€æ¬¡å¯¹båšRSHæŸ¥è¯¢æ—¶å€™æ˜¯æ— æ³•æ‰¾åˆ°è¯¥å˜é‡ï¼Œæ‰€ä»¥å¼•æ“åœ¨è¿™æ—¶å€™å°±ä¼šæŠ¥å‡ºä¸€ä¸ª<code>ReferenceError</code>çš„é”™è¯¯ã€‚ç¬¬äºŒä¸ªbä¹Ÿè¿˜æ²¡æœ‰å£°æ˜ï¼Œä½†æ˜¯å¼•æ“å¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå› ä¸ºè¿™é‡Œå…ˆåšäº†LSHæŸ¥è¯¢ï¼Œæ‰€ä»¥å¯ä»¥çŸ¥é“ï¼ŒLSHæŸ¥è¯¢å¦‚æœæœªæ‰¾åˆ°å˜é‡ï¼Œä¼šåœ¨å…¨å±€ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡bï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼Œå†åšRSHæŸ¥è¯¢ã€‚å¼•æ“è¿˜æœ‰ä¸€ä¸ª<code>TypeError</code>çš„é”™è¯¯ï¼Œåœ¨è¯•å›¾å¯¹ä¸€ä¸ªéå‡½æ•°ç±»å‹çš„å€¼æ‰§è¡Œå‡½æ•°è°ƒç”¨ï¼Œæˆ–è€…å¼•ç”¨<code>null</code>, <code>undefined</code>ç±»å‹å€¼ä¸­çš„å±æ€§æ—¶å€™ï¼Œå°±ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ã€‚</p>\\n<h2>æå‡</h2>\\n<p>å¾ˆå¤šæ—¶å€™éƒ½ä¼šè®¤ä¸ºjavascriptä»£ç æ˜¯ç”±ä¸Šåˆ°ä¸‹ä¸€è¡Œä¸€è¡Œæ‰§è¡Œçš„ï¼Œä½†å®é™…ä¸Šå¹¶ä¸å®Œå…¨æ­£ç¡®ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µä¼šå¯¼è‡´è¿™ä¸ªå‡è®¾æ˜¯é”™è¯¯çš„ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">a = 2;\\n\\nvar a;\\n\\nconsole.log(a);  // 2\\n</code></pre>\\n<p>è¿˜æœ‰å¦å¤–ä¸€æ®µ</p>\\n<pre><code class=\\\"language-javascript\\\">console.log(a); // undefined\\n\\nvar a = 2;\\n</code></pre>\\n<p>å½“jsæ‰§è¡Œä¸€ä¸ª<code>var a = 2</code>çš„æ—¶å€™ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„ä¸€ä¸ªå£°æ˜ï¼Œè€Œæ˜¯<code>var a</code>, <code>a = 2</code>ä¸¤ä¸ªå£°æ˜ï¼Œ<code>var a</code>ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæ‰§è¡Œï¼Œ<code>a = 2</code>åˆ™ä¼šåœ¨æ‰§è¡Œé˜¶æ®µæ‰§è¡Œã€‚æ‰€ä»¥ç¬¬äºŒæ®µä»£ç å°±å¾ˆå®¹æ˜“è§£é‡Šé€šäº†ï¼Œä»£ç æ‰§è¡Œé¡ºåºåº”è¯¥å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">var a;\\n\\nconsole.log(a);\\n\\na = 2;\\n</code></pre>\\n<p>è€Œè¿™ä¸ªå‡½æ•°å£°æ˜è‡ªåŠ¨ç§»åŠ¨åˆ°é¡¶éƒ¨ï¼Œå°±å«åš<strong>æå‡</strong>ã€‚</p>\\n<p>æå‡æ“ä½œä¼šå‡ºç°åœ¨<strong>æ¯ä¸ªä½œç”¨åŸŸ</strong>ä¸­ï¼Œçœ‹ä»¥ä¸‹ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">foo();\\n\\nfunction foo() {\\n    console.log(a);\\n    var a = 2;\\n}\\n</code></pre>\\n<p>å®é™…æ‰§è¡Œå¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a;\\n    console.log(a);\\n    a = 2;\\n}\\n\\nfoo();\\n</code></pre>\\n<p>å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°å£°æ˜ä¼šè¢«æå‡åˆ°æœ€é¡¶éƒ¨ï¼Œä½†æ˜¯å‡½æ•°è¡¨è¾¾å¼å´ä¸ä¼šè¢«æå‡</p>\\n<pre><code>foo(); // TypeError\\nbar(); // ReferenceError\\n\\nvar foo = function bar() {\\n    ...\\n}\\n</code></pre>\\n<p>åœ¨è¿™é‡Œè¦æ³¨æ„ï¼ŒæŠŠfooåˆ†é…åˆ°å…·åå‡½æ•°ä¸‹ï¼Œä½†æ˜¯å…·åå‡½æ•°ä¸‹ä¹Ÿæ— æ³•åœ¨æ‰€åœ¨ä½œç”¨åŸŸä¸­è¿è¡Œã€‚ä¸Šé¢å‡½æ•°çš„æ‰§è¡Œæ–¹å¼åº”è¯¥å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">var foo;\\n\\nfoo(); // TypeError\\n\\nbar(); // ReferenceError\\n\\nfoo = function() {\\n    var bar = ... self ...\\n}\\n</code></pre>\\n<h3>å‡½æ•°ä¼˜å…ˆ</h3>\\n<p>ä»ä¸Šé¢å¯ä»¥çŸ¥é“å®šä¹‰å˜é‡å’Œå£°æ˜å‡½æ•°éƒ½ä¼šè§¦å‘æå‡ï¼Œä½†æ˜¯å¦‚æœåœ¨é‡å¤å£°æ˜çš„ä»£ç ä¸‹ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢</p>\\n<pre><code class=\\\"language-javascript\\\">foo(); // 1\\n\\nvar foo;\\n\\nfunction foo() {\\n    console.log(1);\\n}\\n\\nfoo = function() {\\n    console.log(2);\\n}\\n</code></pre>\\n<p>è¿™é‡Œä¼šå‡ºç°<strong>1</strong>è€Œä¸æ˜¯<strong>2</strong>ï¼å› ä¸ºå‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œå†åˆ°å˜é‡ï¼Œæ‰€ä»¥æ‰§è¡Œé¡ºåºåº”è¯¥å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    console.log(1);\\n}\\n\\nfoo();\\n\\nfoo = function() {\\n    console.log(2);\\n}\\n</code></pre>\\n<p>åœ¨ä¸€ä¸ªæ™®é€šçš„å—( { ... } çš„ä»£ç )ï¼Œå‡½æ•°ä¹Ÿä¼šæå‡ï¼Œå¦‚ä¸‹ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">var a = true;\\n\\nif(a) {\\n    function foo() {\\n        ...\\n    }\\n}else {\\n    function bar() {\\n        ...\\n    }\\n}\\n</code></pre>\\n<p>è¿™é‡Œçš„<code>foo</code>å’Œ<code>bar</code>éƒ½ä¸ä¼šæŒ‰åˆ¤æ–­æ¥å£°æ˜å‡½æ•°ï¼Œæ‰€ä»¥åœ¨åˆ¤æ–­å£°æ˜å‡½æ•°å¹¶ä¸å¯é ã€‚</p>\\n<h2>ä½œç”¨åŸŸåµŒå¥—</h2>\\n<p>å½“ä¸€ä¸ªå—æˆ–è€…å‡½æ•°åµŒå¥—åœ¨å¦ä¸€ä¸ªå—æˆ–è€…å‡½æ•°ä¸­ï¼Œå°±ç§°ä¸ºä½œç”¨åŸŸåµŒå¥—ã€‚åœ¨å½“å‰ä½œç”¨åŸŸæ²¡æœ‰æ‰¾åˆ°æŸä¸ªå˜é‡æ—¶ï¼Œ<strong>å¼•æ“</strong>å°±ä¼šåœ¨å¤–å±‚çš„ä½œç”¨åŸŸç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å˜é‡ï¼Œæˆ–è€…æŠµè¾¾æœ€å¤–å±‚ï¼ˆå…¨å±€ï¼‰ä½œç”¨åŸŸä¸ºæ­¢ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo(a) {\\n    // båœ¨å‡½æ•°ä¸­å°šæœªå®šä¹‰ï¼Œæ‰€ä»¥åœ¨ä¸Šä¸€ä¸ªä½œç”¨åŸŸä¸­æŸ¥æ‰¾\\n    // åœ¨å…¨å±€ä¸­æ‰¾åˆ°å˜é‡bï¼Œèµ‹å€¼\\n    console.log(a + b);\\n}\\n\\nvar b = 2;\\n\\nfoo(2); // 4\\n</code></pre>\\n<h1>å‡½æ•°ä½œç”¨åŸŸ</h1>\\n<p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œæˆ–è€…è¯´å‡½æ•°æœ‰è‡ªå·±ä½œç”¨åŸŸã€‚å½“æ‰§è¡Œæµè¿›å…¥ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°çš„ç¯å¢ƒå°±ä¼šè¢«æ¨å…¥ä¸€ä¸ªç¯å¢ƒæ ˆä¸­ã€‚è€Œå‡½æ•°æ‰§è¡Œä¹‹åï¼Œæ ˆå°†å…¶ç¯å¢ƒå¼¹å‡ºï¼ŒæŠŠæ§åˆ¶æƒè¿”å›ä¹‹å‰çš„æ‰§è¡Œç¯å¢ƒã€‚å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡è®¿é—®æ­£æ˜¯åˆè¿™ä¸ªæ‰§è¡Œæœºåˆ¶æ§åˆ¶ç€ã€‚è€Œé€šè¿‡è¿™ä¸€æœºåˆ¶ï¼Œèƒ½å®ç°éšè—ä½œç”¨åŸŸä¸­å˜é‡æˆ–è€…å‡½æ•°ï¼Œè§„é¿åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    function bar(a) {\\n        // iä¼šä»forå—ä¸­æ‰¾åˆ°å˜é‡å®¹å™¨ï¼Œç„¶åæ‰§è¡Œèµ‹å€¼\\n        i = 3;\\n        console.log(a + i);\\n    }\\n\\n    for(var i = 0; i &#x3C;= 10; i++) {\\n        // æ‰§è¡Œbaråä¼šç»™ié‡æ–°èµ‹å€¼3ï¼Œæ»¡è¶³i&#x3C;=10ï¼Œå‡½æ•°æ­»å¾ªç¯\\n        bar(i * 2);\\n    }\\n}\\n</code></pre>\\n<p>è¿™æ—¶å€™åªéœ€è¦åœ¨barå†…éƒ¨ä¿®æ”¹<code>i = 3</code>ä¸º<code>var i = 3</code>ï¼Œå°†iå˜ä¸º<code>bar</code>ä¸­çš„æœ¬åœ°å˜é‡å³å¯ã€‚é™¤äº†æ–°å»ºä¸€ä¸ªå‡½æ•°å»éšè—å˜é‡ï¼Œè¿˜èƒ½é€šè¿‡åŒ¿åå‡½æ•°çš„ç‰¹æ€§å»å®ç°éšè—å˜é‡ï¼Œç¤¾åŒºä¸­ä¹Ÿç§°ä¸º<strong>IIFE</strong>ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">var a = 2;\\n\\n(function() {\\n    var a = 3;\\n    console.log(a); // 3\\n})()\\n\\nconsole.log(a); // 2\\n</code></pre>\\n<p>è¿˜èƒ½å½“ä½œå‡½æ•°è°ƒç”¨ä¼ å‚</p>\\n<pre><code class=\\\"language-javascript\\\">var a = 2;\\n\\n(function(global) {\\n    var a = 3;\\n\\n    console.log(a); // 3\\n    console.log(global.a); // 2\\n})(window)\\n</code></pre>\\n<p>é€šè¿‡éšè—å˜é‡æ´»ç€å‡½æ•°ï¼Œèƒ½å®ç°<strong>å…¨å±€å‘½åç©ºé—´</strong>æˆ–è€…<strong>JSæ¨¡å—åŒ–</strong>(åé¢ä¼šè®¨è®ºåˆ°)ã€‚</p>\\n<h1>å—ä½œç”¨åŸŸ</h1>\\n<p>åœ¨JSä¸­å—ä½œç”¨åŸŸå¹¶ä¸å¸¸è§ï¼Œä½†æ˜¯æŸäº›ä»£ç å´ç»å¸¸ä¼šè¢«è¯¯ä»¥ä¸ºæ˜¯å—ä½œç”¨åŸŸï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“é€ æˆç†è§£ä¸Šçš„é”™è¯¯ï¼Œä¾‹å¦‚ä¸‹é¢çš„å¸¸ç”¨ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">for(var i = 0; i &#x3C; 10; i++) {\\n    console.log(i);\\n}\\n\\nif(true) {\\n    var foo = 'bar';\\n}\\n\\nconsole.log(i, foo); // 10 bar\\n</code></pre>\\n<p>ä¸Šé¢ä»£ç çš„<code>i</code>å’Œ<code>foo</code>å…¶å®éƒ½åœ¨å¤–éƒ¨ä½œç”¨åŸŸä¸­å®šä¹‰çš„ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç å—ä¸­å®šä¹‰çš„å˜é‡ï¼Œæ‰€ä»¥å¹³æ—¶åœ¨è¿™äº›ä»£ç ä¸­å®šä¹‰å˜é‡åº”è¯¥æ˜¯è·ç¦»ä½¿ç”¨çš„åœ°æ–¹è¶Šè¿‘è¶Šå¥½ã€‚</p>\\n<h2>å»¶é•¿ä½œç”¨åŸŸé“¾(å—ä½œç”¨åŸŸ)</h2>\\n<ul>\\n<li>\\n<p>withè¯­å¥ã€‚withä»å¯¹è±¡ä¸­åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡åªåœ¨withå£°æ˜ä¸­æœ‰æ•ˆã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\nvar qs = \\\"?bar=true\\\";\\n\\nwith(location) {\\n    // hrefå®é™…æ˜¯location.hrefï¼Œåªèƒ½åœ¨withå†…éƒ¨ä½¿ç”¨\\n    var url = href + qs;\\n}\\n\\nreturn url;\\n}\\n</code></pre>\\n</li>\\n<li>\\n<p>try/catchä¸­çš„catchåˆ†å¥ä¼šåˆ›é€ ä¸€ä¸ªå—ä½œç”¨åŸŸï¼Œå£°æ˜çš„é”™è¯¯å¯¹è±¡å˜é‡ä»…åœ¨catchå†…éƒ¨æœ‰æ•ˆã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">try {\\nundefined(); // å¼ºåˆ¶æ‰§è¡Œä¸€ä¸ªé”™è¯¯æ“ä½œ\\n} catch(err) {\\nconsole.log(err);\\n}\\n</code></pre>\\n</li>\\n</ul>\\n<p>console.log(err); // ReferenceError</p>\\n<pre><code>## let/const\\nåœ¨ES6ä¸­ï¼Œå¼•å…¥äº†letå’Œconstï¼Œæä¾›äº†é™¤varä»¥å¤–çš„å¦ä¸€ç§å£°æ˜å˜é‡çš„æ–¹å¼ã€‚ç”¨let/constå£°æ˜çš„å˜é‡ä¼šç»‘å®šåœ¨æ‰€åœ¨çš„æ‰€ç”¨åŸŸä¸­ï¼ˆé€šå¸¸æ˜¯{ ... }å†…éƒ¨ï¼Œæ¢å¥è¯è¯´ï¼Œlet/constèƒ½åŠ«æŒæ‰€åœ¨ä½œç”¨åŸŸã€‚\\n```javascript\\n// ä¿®æ”¹ä¸‹ä¸Šé¢çš„å¾ªç¯ä¾‹å­\\nfor(let i = 0; i &#x3C; 10; i++) {\\n    console.log(i);\\n}\\n\\nconsole.log(i); // ReferenceError\\n</code></pre>\\n<p>conståœ¨ä½¿ç”¨æ–¹æ³•ä¸Šè·Ÿlenæ˜¯ä¸€æ ·ï¼Œåªæ˜¯åˆ›å»ºçš„å€¼æ˜¯å›ºå®šçš„ï¼ˆå¸¸é‡ï¼‰ã€‚åé¢ä»»ä½•ä¿®æ”¹å€¼çš„æ“ä½œéƒ½ä¼šæŠ¥é”™ã€‚<strong>(æ³¨ï¼šconstå®é™…ä¿è¯çš„å¹¶ä¸æ˜¯å¸¸é‡ä¸èƒ½æ”¹å˜ï¼Œè€Œæ˜¯å˜é‡çš„å†…å­˜åœ°å€ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥å¯¹äºå¤æ‚çš„ç±»å‹objectï¼Œä¹Ÿåªèƒ½ä¿è¯å¯¹è±¡çš„æŒ‡é’ˆåœ°å€æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å¯¹è±¡å†…éƒ¨çš„æ•°æ®ç»“æ„åˆ™ä¸èƒ½å›ºå®š)</strong></p>\\n<pre><code class=\\\"language-javascript\\\">const foo = {};\\n\\nfoo.bar = 'bar';\\nconsole.log(foo.bar); // bar\\n\\nfoo = {}; // TypeError\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>é€šè¿‡å­¦ä¹ jsä¸­çš„ä½œç”¨åŸŸè¿è¡Œæ–¹å¼ï¼Œäº†è§£å˜é‡åœ¨æ‰§è¡Œç¯å¢ƒçš„å£°æ˜å‘¨æœŸï¼Œä»¥åŠå“ªéƒ¨åˆ†ä»£ç èƒ½è®¿é—®å…¶ä¸­çš„å˜é‡ã€‚èƒ½ä¸ºåé¢å­¦ä¹ <strong>é—­åŒ…</strong>è¿˜æœ‰å®ç°æ¨¡å—åŒ–æ‰“ä¸‹åŸºç¡€ã€‚ä»¥ä¸‹æ˜¯å…³äºä½œç”¨åŸŸçš„å‡ ç‚¹æ€»ç»“ï¼š</p>\\n<ul>\\n<li>å‡½æ•°å±€éƒ¨ç¯å¢ƒä¸ä»…æœ‰è®¿é—®å‡½æ•°ä½œç”¨åŸŸçš„å˜é‡çš„æƒé™ï¼Œè€Œä¸”è¿˜æœ‰æƒè®¿é—®å…¶åŒ…å«(çˆ¶)ç¯å¢ƒçš„å˜é‡ã€‚</li>\\n<li>é™¤å…¨å±€ã€å‡½æ•°ä½œç”¨åŸŸå¤–ï¼Œè¿˜æœ‰æ¯”è¾ƒå°‘ç”¨çš„å—ä½œç”¨åŸŸã€‚</li>\\n</ul>\",\"htmlExcerpt\":\"<h1>å‰è¨€</h1>\\n<p>ä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p>\\n<h1>ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ</h1>\\n<p>JSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º<strong>ä½œç”¨åŸŸ</strong>ã€‚</p>\\n<h2>ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹</h2>\\n<p>å¦‚åœ¨<code>var a = 2</code>æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚</p>\\n<p>é¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚\\n1. é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚\\n2. æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º<strong>å¼•æ“</strong>ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†<code>a = 2</code>è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®<strong>ä½œç”¨åŸŸ</strong>å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª<code>a</code>çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ<strong>å¼•æ“</strong>å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ<strong>å¼•æ“</strong>æ‰¾åˆ°<code>a</code>å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ<strong>å¼•æ“</strong>ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p>\\n<p><strong>æ€»ç»“</strong>ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ<strong>ç¼–è¯‘å™¨</strong>ä¼šåœ¨å½“å‰<strong>ä½œç”¨åŸŸ</strong>ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"jså®ç°add(1)(2)(3)\",\"date\":\"2017-05-28\",\"category\":[\"javascript\"],\"tags\":null,\"path\":\"/post/add-chain\"},\"excerpt\":\"\\n# é¢˜ç›®\\nä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°\\n```javascript\\nfunction add(x) {\\n\\tvar fn = function(y) {\\n\\t\\treturn add(x + y);\\n\\t}\\n\\n\\treturn fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n```\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"é¢˜ç›®\"},{\"depth\":1,\"value\":\"å®ç°æ–¹æ³•\"}],\"html\":\"<h1>é¢˜ç›®</h1>\\n<p>ä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°</p>\\n<pre><code class=\\\"language-javascript\\\">function add(x) {\\n    var fn = function(y) {\\n        return add(x + y);\\n    }\\n\\n    return fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n</code></pre>\\n<!-- more -->\\n<h1>å®ç°æ–¹æ³•</h1>\\n<p>è¿™æ ·å†™æ˜¯å¯ä»¥å®ç°è°ƒç”¨æ–¹å¼ï¼Œä½†æ˜¯æ€ä¹ˆ<code>return x</code>å‘¢ï¼Œå›æ¥æƒ³è¿˜æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œäºæ˜¯ä¸Šç½‘æ‰¾äº†ç‚¹å…¶ä»–äººçš„å®ç°æ–¹å¼ï¼Œå‘ç°ä»–ä»¬æ˜¯é‡å†™äº†<code>object</code>çš„<code>valueOf</code>å’Œ<code>toString</code>çš„æ–¹æ³•ã€‚ç„¶åå†è·‘äº†ä¸€éã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function add(x) {\\n    var fn = function(y) {\\n        return add(x + y);\\n    }\\n\\n    fn.toString = function() {\\n        return x;\\n    }\\n\\n    return fn;\\n}\\n\\n\\n// chrome  function 6\\n// firefox function add/fn\\n// node    { [Number: 6] toString: [Function], valueOf: [Function] }\\nconsole.log(add(1)(2)(3))\\n\\nconsole.log(add(1)(2)(3).toString()) // 6\\n</code></pre>\\n<p>ç”±æ­¤çœ‹å‡ºåœ¨ä¸åŒå®¢æˆ·ç«¯ä¸‹è¿”å›çš„ç»“æœå¹¶ä¸ä¸€æ ·ï¼Œå¹¶ä¸æ˜¯å®Œç¾çš„ç»“æœï¼Œä½†æ˜¯æŸ¥é˜…äº†å…¶ä»–èµ„æ–™å¹¶æ²¡æœ‰å…¶ä»–ååˆ†å¥½çš„è§£å†³åŠæ³•ï¼Œä¼°è®¡è¿™é“é¢˜çš„è€ƒæŸ¥ç‚¹æ˜¯å…³äºjsæ·±åº¦çš„ï¼Œæ¯”å¦‚åŸç”Ÿå¯¹è±¡é‡Œé¢çš„åŸºæœ¬æ–¹æ³•å’Œ<code>alert</code>, <code>console</code>ä¼šè‡ªåŠ¨æ‰§è¡ŒtoStringç­‰æ–¹æ³•ã€‚</p>\\n<p>å¦å¤–ï¼Œ<code>valueOf</code>å’Œ<code>toString</code>æ–¹æ³•å…¶å®æ˜¯å·®ä¸å¤šçš„ï¼Œè¿”å›çš„ç»“æœåŸºæœ¬éƒ½æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯è¯•äº†ä¸€ä¸‹å®šä¹‰äº†ä¸¤ä¸ªä¸åŒçš„æ–¹æ³•ï¼Œå‘ç°æ€»æ˜¯ä¼šè¿”å›valueOfçš„å€¼å…ˆï¼Œæ‰€ä»¥è§‰å¾—toStringåº”è¯¥æ˜¯åº”ç”¨äºvalueOfçš„ç»“æœã€‚</p>\",\"htmlExcerpt\":\"<h1>é¢˜ç›®</h1>\\n<p>ä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°</p>\\n<pre><code class=\\\"language-javascript\\\">function add(x) {\\n    var fn = function(y) {\\n        return add(x + y);\\n    }\\n\\n    return fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n</code></pre>\\n\"}}],\"page\":2,\"pages\":3,\"total\":14,\"limit\":5,\"prev\":\"/blog/1\",\"next\":\"/blog/3\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---blog-2-3e4c3f16339c5c57a9a3.js","module.exports = {\"data\":{\"allMarkdownRemark\":{\"edges\":[{\"node\":{\"excerpt\":\"\\nè¿™æ¬¡åšçš„æ˜¯ä¸€ä¸ªç±»ä¼¼teambitionçš„å›¢é˜Ÿåä½œç±»é¡¹ç›®ï¼Œå› ä¸ºä¸Šçº§åæ˜ äº¤äº’å’Œè§†è§‰æ–¹é¢éƒ½æ²¡æœ‰è¾¾åˆ°è¦æ±‚ï¼Œä»¥å‰çš„ä»£ç ä¹Ÿæ²¡æœ‰ç”¨æ¨¡å—åŒ–å’Œç”¨nodeåšä¸€äº›è‡ªåŠ¨åŒ–çš„å·¥ä½œï¼Œæ—§ä»£ç æ˜¯åŸºæœ¬æ”¹ä¸äº†çš„ï¼Œæ‰€ä»¥å°±æ²¡çœ‹ä»¥å‰çš„ä»£ç ï¼Œç›´æ¥çœ‹ç€äº¤äº’è·Ÿè®¾è®¡ç¨¿å°±å¼€æ’¸äº†ã€‚\\nåº“é€‰æ‹©åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆé€‰æ‹©äº†ï¼Œangularç‰ˆæœ¬ä¸ç¨³å®šï¼Œpassï¼Œreact å’Œ vueä¹‹é—´ä¸ºä»€ä¹ˆé€‰åè€…å‘¢ï¼Œä¸€æ–¹é¢å—å…¬å¸æ”¿æ²»å› ç´ å½±å“ï¼Œå¦ä¸€æ–¹é¢vueæ–‡æ¡£æœ‰ä¸­æ–‡ï¼Œtemplateçš„å†™æ³•å¯¹æ–°æ‰‹ä¹Ÿæ¯”è¾ƒå‹å¥½ï¼Œè€ƒè™‘åˆ°åæœŸäººå‘˜é…ç½®å°±é€‰æ‹©vueäº†ã€‚\\né‡æ„äº†4ä¸ªå¤§æ¨¡å—ï¼Œæ”¹ç‰ˆç”¨æ—¶å¤§æ¦‚ä¸€ä¸ªåŠæœˆï¼Œæµ‹è¯•æ—¶é—´ä¸€å‘¨å·¦å³ï¼ŒæœŸé—´æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒå¤§å¡è¿›åº¦çš„é—®é¢˜ã€‚ä¸‹é¢é€šè¿‡å¯¹é¡¹ç›®çš„æ„å»ºï¼Œç»„ç»‡ï¼Œæµ‹è¯•ç­‰å·¥ä½œåšä¸‹è®°å½•ä»¥åŠåˆ†æã€‚\\n\\n# é¡¹ç›®æ„å»º\\né¡¹ç›®åˆ›å»ºæ˜¯ä½¿ç”¨vue-cliåˆ›å»ºçš„ï¼Œæ¨¡ç‰ˆåˆ™æ˜¯ä½¿ç”¨æˆ‘è‡ªå·±ç»´æŠ¤çš„[vue-mpa](https://github.com/kitwon/vue-mpa)å¤šé¡µæ¨¡æ¿åˆ›å»ºçš„å•é¡µåº”ç”¨ğŸ¤©(å‡ºäºå¯¹è‡ªå·±çš„æ”¯æŒï¼Œå¯¹æ¨¡ç‰ˆbugçš„æµ‹è¯•ï¼Œä»¥åŠåˆ‡æ¢ä¸ºå•é¡µåº”ç”¨ä¹Ÿæ–¹ä¾¿)ã€‚é™¤äº†å®˜æ–¹åŸºæœ¬çš„åŠŸèƒ½å¤–ï¼Œé¡¹ç›®è¿˜åŠ å…¥äº†æ‰“åŒ…å®Œæˆåè‡ªåŠ¨åˆ é™¤å¹¶æ‹·è´åˆ°åå°é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨ç”Ÿæˆjspæ¨¡æ¿ç­‰ä¸€äº›è‡ªåŠ¨åŒ–åŠŸèƒ½ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"å¹´åº•é¡¹ç›®å¤ç›˜\",\"date\":\"2018-01-23\",\"category\":[\"å·¥ä½œ\"],\"path\":\"/post/2017-review\"}}},{\"node\":{\"excerpt\":\"\\n> è¿™ç¯‡æ–‡ç« å¤§æ¦‚5500å­—ä½“å·¦å³ï¼Œå¯èƒ½éœ€è¦æµªè´¹5-10åˆ†é’Ÿå»é˜…è¯»ã€‚\\n\\n----\\n\\n> ç°åœ¨javascriptæ€§èƒ½å·²ç»è¶³å¤Ÿå¿«äº†ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„web appè¿˜æ˜¯ä¼šå‡ºç°å¡é¡¿çš„æƒ…å†µã€‚è¿™æ—¶å€™æˆ‘ä»¬é¦–å…ˆä¼šæƒ³åˆ°æ˜¯å»ä¼˜åŒ–æˆ‘ä»¬çš„jsä»£ç ï¼Œæ¯”å¦‚å°†forå¾ªç¯æ”¹ä¸ºwhileï¼Œä½†å…¶å®è¿™äº›å¾®ç²’åº¦çš„ä¼˜åŒ–å…¶å®å¯¹æ€§èƒ½æç¤ºæ˜¯çš®æ¯›ã€‚çœ‹å®Œgoogleçš„[render performance](https://developers.google.com/web/fundamentals/performance/rendering/)å¯¹å‰ç«¯æ¸²æŸ“ä¼˜åŒ–æœ‰äº†ä¸€ä¸ªæ–°çš„è®¤è¯†ã€‚\\n\\n# å‡ ä¸ªé‡è¦æ¦‚å¿µ\\n## 60fpsä¸è®¾å¤‡åˆ·æ–°ç‡\\nç›®å‰å¤§å¤šæ•°è®¾å¤‡çš„åˆ·æ–°ç‡éƒ½æ˜¯60fpsã€‚ç©æ¸¸æˆçš„éƒ½çŸ¥é“ï¼Œå¦‚æœå½“å‰åˆ·æ–°ç‡åœ¨30-60fpsï¼Œæ¸¸æˆè¿è¡Œä¼šåŸºæœ¬æµç•…ï¼Œè€Œå°‘äº60fpså°±ä¼šå‡ºç°å¡é¡¿çš„çŠ¶å†µäº†ã€‚web appåŸºæœ¬ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¦‚æœæµè§ˆå™¨æ¸²æŸ“å¸§çªç„¶ä¸‹é™ï¼Œæˆ–è€…å¸§æ•°ä½çš„æƒ…å†µï¼Œå°±å‡ºç°ç¨‹åºè¿è¡Œå¡çš„æƒ…å†µäº†ã€‚\\n\\nå…¶ä¸­æ¯ä¸ªå¸§çš„é¢„ç®—æ—¶é—´ä»…æ¯” 16 æ¯«ç§’å¤šä¸€ç‚¹ (1 ç§’/ 60 = 16.66 æ¯«ç§’)ã€‚ä½†å®é™…ä¸Šï¼Œæµè§ˆå™¨æœ‰æ•´ç†å·¥ä½œè¦åšï¼Œå› æ­¤æ‚¨çš„æ‰€æœ‰å·¥ä½œéœ€è¦åœ¨ 10 æ¯«ç§’å†…å®Œæˆã€‚å¦‚æœæ— æ³•ç¬¦åˆæ­¤é¢„ç®—ï¼Œå¸§ç‡å°†ä¸‹é™ï¼Œå¹¶ä¸”å†…å®¹ä¼šåœ¨å±å¹•ä¸ŠæŠ–åŠ¨ã€‚ æ­¤ç°è±¡é€šå¸¸ç§°ä¸ºå¡é¡¿ï¼Œä¼šå¯¹ç”¨æˆ·ä½“éªŒäº§ç”Ÿè´Ÿé¢å½±å“ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"æ„å»º60fps-web-app\",\"date\":\"2017-09-13\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/60fps-web-app\"}}},{\"node\":{\"excerpt\":\"\\nåœ¨ä¹‹å‰å·²ç»å†™è¿‡ä¸€ç¯‡å…³äºå‰ç«¯å•å…ƒæµ‹è¯•çš„æ–‡ç« ï¼Œç›¸å…³æ¦‚å¿µå°±ä¸ä½œé˜è¿°äº†ï¼Œæœ‰å…´è¶£æˆ–è€…æœ‰éœ€æ±‚çš„åŒå­¦å¯ä»¥åœ¨å¾€æœŸæ‰¾ä¸€ä¸‹ã€‚ç„¶åè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹[jest](http://facebook.github.io/jest/)ï¼Œè¿™æ˜¯ä¸€ä¸ª[Facebook OpenSource](https://code.facebook.com/projects/)çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚é¡¹ç›®å·²ç»é›†æˆå¥½äº†ä¸€äº›æµ‹è¯•ç›¸å…³çš„æ¡†æ¶çš„ä»£ç ï¼Œä¸»æ‰“çš„æ˜¯é›¶é…ç½®æµ‹è¯•å¹³å°ï¼ˆreactä¸­åº”è¯¥ç®—æ˜¯é›¶é…ç½®ï¼Œå…¶ä»–é¡¹ç›®è¿˜æ˜¯è¦æ‰‹åŠ¨é…ç½®ä¸€ä¸‹çš„ï¼‰ï¼Œé‡Œé¢ä¸€ä¸ªæ¯”è¾ƒå¥½åœ°æ–¹æ˜¯æ”¯æŒ**å¿«ç…§æµ‹è¯•**(ä¸ºdomç»“æ„ç”Ÿæˆä¸€ä¸ªå¿«ç…§ï¼Œæ¯æ¬¡æµ‹è¯•éƒ½å¯¹æ¯”domç»“æ„)ã€‚å…¶ä»–ä¸€äº›å¥½ç”¨çš„åœ°æ–¹å¯ä»¥è‡ªå·±æŸ¥çœ‹æ–‡æ¡£ï¼Œæœ‰ä¸­æ–‡ã€‚\\n\\n# é…ç½®\\né¦–å…ˆæ˜¯å®‰è£…jest, jset-vue-preprocessor(jestçš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥è§£æ'.vue'æ–‡ä»¶çš„)ã€‚\\n```shell\\n$npm install jest jest-vue-preprocessor --save-dev\\n\\n$yarn add jest jest-vue-preprocessor --save\\n```\\n\\n\",\"frontmatter\":{\"title\":\"åœ¨vueé¡¹ç›®ä¸­ä½¿ç”¨jestè¿›è¡Œå•å…ƒæµ‹è¯•\",\"date\":\"2017-08-18\",\"category\":[\"å‰ç«¯å·¥å…·\"],\"path\":\"/post/vue-jest-test\"}}},{\"node\":{\"excerpt\":\"\\n# ç±»ç†è®º\\nç±»ï¼ç»§æ‰¿æè¿°äº†ä¸€ç§ä»£ç çš„ç»„ç»‡ç»“æ„å½¢å¼ï¼Œè¿™ä¸ªç†è®ºåœ¨è½¯ä»¶è®¾è®¡ä¸­ä¸€ç›´ä½œä¸ºä¸€ä¸ªä¸»å¯¼çš„è§’è‰²ã€‚é€šè¿‡å­¦ä¹ ç±»ç†è®ºï¼Œèƒ½ä¸ºæ›´å¥½åœ°å­¦ä¹ jsä¸­çš„è®¾è®¡æ¨¡å¼å’Œå¯¹jsä¸­åŸå‹é“¾çš„ç†è§£æ‰“ä¸‹åŸºç¡€ã€‚\\n\\nç±»æ˜¯åœ¨è½¯ä»¶ä¸­å¯¹çœŸå®ä¸–ç•Œé—®é¢˜é¢†åŸŸçš„å»ºæ¨¡æ–¹æ³•ã€‚å¦‚ä¸€ä¸ªç»å¸¸çœ‹è§çš„äº¤é€šä¾‹å­ã€‚**æ±½è½¦**å¯ä»¥è¢«çœ‹ä½œ**äº¤é€šå·¥å…·ä¸­çš„ä¸€ç§**ï¼Œæ‰€ä»¥åœ¨è½¯ä»¶å¼€å‘æ—¶å¯ä»¥å®šä¹‰ä¸€ä¸ª`Vehicle`ç±»ï¼Œ`Vehicle`ä¸­åŒ…å«æ¨è¿›å™¨ï¼ˆå¼•æ“ï¼‰ã€è½½äººèƒ½åŠ›ç­‰æ–¹æ³•ã€‚å®šä¹‰`Car`æ—¶ï¼Œåªè¦å£°æ˜å®ƒç»§æ‰¿æˆ–è€…æ‹“å±•`Vehicle`è¿™ä¸ªåŸºç¡€å®šä¹‰å°±è¡Œäº†ï¼Œå…¶ä»–äº¤é€šå·¥å…·å¦‚èˆ¹ã€é£æœºä¹Ÿå¯ä»¥ç»§æ‰¿`Vehicle`ã€‚**è¿™å°±æ˜¯ç±»çš„å®ä¾‹åŒ–ä¸ç»§æ‰¿**ã€‚\\n\\nç±»çš„å¦å¤–ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µæ˜¯**å¤šæ€**ï¼Œè¿™ä¸ªæ¦‚å¿µæ˜¯è¯´å¤«ç±»çš„é€šç”¨è¡Œä¸ºå¯ä»¥è¢«å­ç±»æ›´ç‰¹æ®Šçš„è¡Œä¸ºé‡å†™ã€‚\\n\\njavascriptä¸­ä¹Ÿæœ‰ç±»ä¸­çš„`new`å’Œ`instanceof`ï¼Œè¿˜æœ‰ES6ä¸­çš„`class`å…³é”®å­—ï¼Œä½†è¿™äº›å¹¶ä¸æ˜¯è¯´æ˜jsä¸­æœ‰**ç±»**çš„ã€‚javascriptä¸­åªæ˜¯ä¸ºäº†æ»¡è¶³ç±»çš„è®¾è®¡éœ€æ±‚è€Œæä¾›ä¸€äº›ç±»ä¼¼çš„è¯­æ³•ã€‚\\n\\n## jsä¸­å®ç°ç±»å¤åˆ¶(æ··å…¥)\\njavascriptä¸­çš„å¯¹è±¡æœºåˆ¶å¹¶ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå¤åˆ¶è¡Œä¸ºï¼Œç®€å•æ¥è¯´javascriptä¸­åªæœ‰å¯¹è±¡ï¼Œå¹¶ä¸å­˜åœ¨å¯ä»¥å®ä¾‹çš„ç±»ã€‚ä¸€ä¸ªå¯¹è±¡å¹¶ä¸ä¼šå¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œåªä¼šæŠŠå®ƒå…³è”èµ·æ¥(prototype)ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript-ç±»\",\"date\":\"2017-07-20\",\"category\":null,\"path\":\"/post/js-class\"}}},{\"node\":{\"excerpt\":\"\\n# å…³äºthis\\n\\n`this`åº”è¯¥æ˜¯javascriptä¸­ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æœºåˆ¶äº†ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­æˆ‘ä»¬å¯èƒ½æœ‰æ„æ— æ„éƒ½ä¼šä½¿ç”¨åˆ°è¿™ä¸ªæœºåˆ¶ï¼Œä½†æ˜¯`this`çš„å·¥ä½œæœºåˆ¶çœŸæ­£äº†è§£çš„å¯èƒ½åªæœ‰çš®æ¯›ï¼Œé€šè¿‡å­¦ä¹ è¿™ä¸€æœºåˆ¶ï¼Œèƒ½å¤Ÿæé«˜å¯¹jsä»£ç çš„ç†è§£å’Œé˜…è¯»èƒ½åŠ›ï¼Œè¿˜æœ‰å¯¹jsç¨‹åºè®¾è®¡æ¨¡å¼æœ‰ç€æ›´æ·±çš„ç†è§£ã€‚\\n\\n# thisçš„æŒ‡å‘\\nthisæ˜¯è¿è¡Œæ—¶è¿›è¡Œç»‘å®šçš„ï¼Œè€Œä¸æ˜¯ç¼–å†™æ—¶ç»‘å®šçš„ï¼Œå®ƒçš„ä¸Šä¸‹æ–‡å–å†³äºå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ã€‚thisçš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚\\n\\né€šè¿‡åˆ†æè°ƒç”¨ä½ç½®ï¼Œå°±èƒ½çŸ¥é“thisåˆ°åº•å¼•ç”¨çš„æ˜¯ä»€ä¹ˆã€‚æ‰€ä»¥ï¼Œå¯»æ‰¾è°ƒç”¨ä½ç½®å°±èƒ½å¼„æ¸…ä¸Šé¢çš„é—®é¢˜ï¼Œé€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œå°±èƒ½å¾ˆå¥½åœ°ç†è§£è¿™ä¸ªé—®é¢˜ï¼š\\n```javascript\\nfunction baz() {\\n  // å½“å‰è°ƒç”¨æ ˆæ˜¯ baz\\n  // å½“å‰è°ƒç”¨ä½ç½®æ˜¯å…¨å±€ä½œç”¨åŸŸ\\n\\n  console.log('baz');\\n  bar(); // barçš„è°ƒç”¨ä½ç½®\\n}\\n\\nfunction bar() {\\n  // å½“å‰çš„è°ƒç”¨æ ˆæ˜¯ baz -> bar\\n  // å½“å‰çš„è°ƒç”¨ä½ç½®æ˜¯baz\\n\\n  console.log('bar');\\n  foo();\\n}\\n\\nfunction foo() {\\n  // å½“å‰çš„è°ƒç”¨æ ˆæ˜¯ baz -> bar -> foo\\n  // å½“å‰çš„è°ƒç”¨ä½ç½®æ˜¯bar\\n\\n  console.log('foo');\\n}\\n\\nbaz();\\n```\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript - this\",\"date\":\"2017-06-27\",\"category\":null,\"path\":\"/post/js-this\"}}},{\"node\":{\"excerpt\":\"\\nwebpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚\\n\\n# ä»webpack1ä¸­è¿ç§»\\nå®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„[è¿ç§»æŒ‡å—](https://webpack.js.org/guides/migrating/)ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚\\n\\n## é…ç½®æ–‡ä»¶\\nå¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚\\n\\n### `module.loaders`å˜æˆ`module.rules`\\næ—§çš„`module.loader`è¢«`module.rules`å–ä»£ï¼Œåè€…å…è®¸é…ç½®`loader`æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£[module.rules](https://webpack.js.org/configuration/module/#module-rules)\\n\\n```javascript\\n// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n```\\n\\n\",\"frontmatter\":{\"title\":\"webpack2æ–°ç‰¹æ€§&è¿ç§»\",\"date\":\"2017-06-24\",\"category\":[\"å‰ç«¯å·¥å…·\"],\"path\":\"/post/webpack2\"}}},{\"node\":{\"excerpt\":\"\\n# ä»€ä¹ˆæ˜¯é—­åŒ…\\nè®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚\\n\\n> å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰\\n\\nç„¶åçœ‹ä¸ªä¾‹å­\\n```javascript\\nfunction foo() {\\n\\tvar a = 2;\\n\\n\\tfuntion bar() {\\n\\t\\tconsole.log(a);\\n\\t}\\n\\n\\tbar();\\n}\\n\\nfoo();\\n```\\nå¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯**ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯**ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯`bar`å¯¹`a`çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯**é—­åŒ…**çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­\\n\\n```javascript\\nfucntion foo() {\\n\\tvar a = 2;\\n\\n\\tfunction bar() {\\n\\t\\tconsole.log(a)\\n\\t}\\n\\n\\treturn bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n```\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript-é—­åŒ…\",\"date\":\"2017-06-14\",\"category\":null,\"path\":\"/post/js-closures\"}}},{\"node\":{\"excerpt\":\"\\nä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚\\n\\n# ä¸»è¦éœ€æ±‚\\nè¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ**URLç®¡ç†å™¨**ã€**ä¸‹è½½å™¨**ã€**è§£æå™¨**\\n* URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚\\n* ä¸‹è½½å™¨ä¼šé€šè¿‡**URLç®¡ç†å™¨**ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚\\n* è§£æå™¨ä¼šå°†**ä¸‹è½½å™¨**ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™**URLç®¡ç†å™¨**è¿›è¡Œé‡å¤æ“ä½œã€‚\\n\\n## å…¥å£ç¨‹åº\\n`spider_main`æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘\\n\\n\",\"frontmatter\":{\"title\":\"ç”¨pythonå†™ä¸€ä¸ªç®€å•çˆ¬è™«\",\"date\":\"2017-06-11\",\"category\":null,\"path\":\"/post/python-crawler\"}}},{\"node\":{\"excerpt\":\"\\n# å‰è¨€\\nä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚\\n\\n# ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ\\nJSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º**ä½œç”¨åŸŸ**ã€‚\\n\\n\\n\\n## ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹\\nå¦‚åœ¨`var a = 2`æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚\\n\\né¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚\\n1. é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚\\n2. æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º**å¼•æ“**ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†`a = 2`è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®**ä½œç”¨åŸŸ**å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª`a`çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ**å¼•æ“**å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ**å¼•æ“**æ‰¾åˆ°`a`å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ**å¼•æ“**ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚\\n\\n**æ€»ç»“**ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ**ç¼–è¯‘å™¨**ä¼šåœ¨å½“å‰**ä½œç”¨åŸŸ**ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚\\n\\n\",\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript--ä½œç”¨åŸŸ\",\"date\":\"2017-05-31\",\"category\":null,\"path\":\"/post/js-scope\"}}},{\"node\":{\"excerpt\":\"\\n# é¢˜ç›®\\nä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°\\n```javascript\\nfunction add(x) {\\n\\tvar fn = function(y) {\\n\\t\\treturn add(x + y);\\n\\t}\\n\\n\\treturn fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n```\\n\\n\",\"frontmatter\":{\"title\":\"jså®ç°add(1)(2)(3)\",\"date\":\"2017-05-28\",\"category\":[\"javascript\"],\"path\":\"/post/add-chain\"}}},{\"node\":{\"excerpt\":\"\\nè€å‰ç«¯éƒ½çŸ¥é“ï¼Œjsåˆ†ä¸ºåŒæ­¥(sync)å’Œå¼‚æ­¥(async)ä¸¤ç§æ¨¡å¼ï¼ŒåŒæ­¥ç®€å•æ¥è¯´å°±æ˜¯æ’é˜Ÿï¼Œä¸€ä¸ªæ¥ç€ä¸€ä¸ªã€‚å¼‚æ­¥åˆ™æ˜¯å‡½æ•°æ‰§è¡Œå®Œåæ‰§è¡Œå®ƒçš„å›è°ƒå‡½æ•°ï¼Œè€Œä¸‹ä¸€ä¸ªå‡½æ•°ä¸ç­‰ä¸Šä¸€ä¸ªå‡½æ•°å®Œæˆå°±å¼€å§‹æ‰§è¡Œã€‚ä½¿ç”¨å›è°ƒå‡½æ•°èƒ½è§£å†³å¤§éƒ¨åˆ†çš„å¼‚æ­¥é—®é¢˜ï¼Œä½†æ˜¯å›è°ƒä¸€å¤šå°±å¾ˆå®¹æ˜“æ‰è¿›â€˜å›è°ƒåœ°ç‹±â€™ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ[promise](https://promisesaplus.com/)ï¼ˆCommonJSå·¥ä½œç»„æå‡ºçš„ä¸€ç§è§„èŒƒï¼‰ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§æ›´ä¸ºä¼˜é›…çš„è§£å†³æ–¹å¼ã€‚\\n\\nä¸‹é¢ï¼Œæˆ‘ä»¬ä¼šå°è¯•å®ç°ä¸€ä¸ªpromiseï¼Œé€šè¿‡å®ç°è¿™ä¸ªdemoï¼Œèƒ½æ›´å¥½åœ°ç†è§£promiseçš„è¿è¡Œæ–¹å¼ï¼Œä½¿å¹³æ—¶åœ¨ä½¿ç”¨çš„æ—¶å€™æ›´åŠ ç†Ÿç»ƒï¼Œä¹Ÿèƒ½ä»å®ç°åŸç†ä¸­è¿›è¡Œæ·±å…¥æ¢è®¨ï¼Œä»è€Œè¾¾åˆ°â€œçŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚\\n\\n\\n\\n# åˆæ­¥æ„å»ºä¸€ä¸ªPromise\\næˆ‘ä»¬çœ‹ä¸‹å¹³æ—¶ä½¿ç”¨promiseå¤„ç†å¼‚æ­¥å‡½æ•°æ—¶å€™çš„ä½¿ç”¨æ–¹å¼ï¼Œä»è°ƒç”¨æ–¹æ³•çœ‹ä¸‹å¤§æ¦‚ç”¨ä»€ä¹ˆæ–¹å¼å»å®ç°\\n```javascript\\n// ä¾‹1\\nfunction getAsyncData() {\\n\\treturn new Promise(function(resolve, reject) {\\n\\t\\tsetTimeout(function() {\\n\\t\\t\\tresolve('promise done!')\\n\\t\\t}, 1000)\\n\\t})\\n}\\n\\ngetAsyncData().then(function(result) {\\n\\tconsole.log(result);\\n}).then(function() {\\n\\tconsole.log('done too!');\\n})\\n```\\n\\n\",\"frontmatter\":{\"title\":\"Promiseçš„ç®€å•å®ç°\",\"date\":\"2017-05-17\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/js-promise\"}}},{\"node\":{\"excerpt\":\"\\n# ä»€ä¹ˆæ˜¯å•å…ƒ-æµ‹è¯•?\\n- å•å…ƒå°±æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ï¼Œä¾‹å¦‚ä¸€ä¸ªå‡½æ•°æˆ–è€…ä¸€ä¸ªç±»ã€‚ä¸€ä¸ªå®Œæ•´çš„æ¨¡å—åŒ–çš„ç¨‹åºï¼Œéƒ½åº”è¯¥æ˜¯æœ‰è®¸å¤šä¸ªå•å…ƒæ„æˆï¼Œå•å…ƒèƒ½å®Œæˆè‡ªå·±çš„ä»»åŠ¡ï¼Œç„¶åä¸å…¶ä»–å•å…ƒè¿›è¡Œäº¤äº’ ï¼Œä»è€Œå®Œæˆæ•´ä¸ªç¨‹åºçš„åŠŸèƒ½ã€‚\\n- è€Œæµ‹è¯•ï¼Œå°±æ˜¯æµ‹è¯•å•¦ã€‚\\n\\næ‰€ä»¥å•å…ƒæµ‹è¯•é€šä¿—ç‚¹è®²å°±æ˜¯å¯¹ç¨‹åºæ¯ä¸ªç‹¬ç«‹çš„å•å…ƒåˆ†åˆ«æµ‹è¯•ï¼Œä¿è¯æ„æˆç¨‹åºçš„æ¯ä¸ªæ¨¡å—çš„æ­£ç¡®æ€§ï¼Œä»è€Œä¿è¯æ•´ä¸ªç¨‹åºçš„æ­£ç¡®è¿è¡Œã€‚\\n\\n# ä¸ºä»€ä¹ˆè¦å†™å•å…ƒæµ‹è¯•ï¼Ÿ\\nå•å…ƒæµ‹è¯•åœ¨å‰ç«¯è¿˜æ˜¯ä¸å¤ªæ™®åŠçš„ï¼Œå› ä¸ºåˆšå¼€å§‹å‰ç«¯ä¹Ÿæ˜¯åå‘â€˜UIâ€™é‚£ä¸€å—çš„ï¼Œä½†éšç€nodeçš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šéâ€˜UIâ€™çš„å‰ç«¯ä»£ç ï¼Œä¸€ä¸ªå›¢é˜Ÿä¹Ÿè¶Šæ¥è¶Šå¤šäººå‚åŠ å¼€å‘ï¼Œå¦‚æœç³»ç»Ÿä¸€å¤æ‚ï¼Œåˆæˆ–è€…ä½ çš„æ¨¡å—æäº¤åˆ°npmä¸Šé¢çš„è¯ï¼Œä¸€å‡ºé”™åŸºæœ¬å°±GGäº†ã€‚\\nåˆæˆ–è€…ä½ è¿™æ ·æƒ³ï¼Œæµ‹è¯•æ˜¯é€ƒä¸æ‰çš„ï¼Œè¦ä¹ˆåœ¨devä¸Šæµ‹è¯•ï¼Œè¦ä¹ˆåœ¨prodä¸Šæµ‹è¯•ï¼Œæ€ä¹ˆéƒ½å¾—æµ‹è¯•ï¼Œè€Œä¸”æ¯æ¬¡æäº¤éƒ½è¦æµ‹è¯•ï¼Œä¸ºä»€ä¹ˆä¸å†™è‡ªåŠ¨æµ‹è¯•å‘¢ã€‚æˆ‘ä¹Ÿç›¸ä¿¡å¤§å¤šæ•°ç¨‹åºå‘˜ä¹Ÿæœ‰å†™å®Œè·‘è·‘çœ‹çš„ä¹ æƒ¯ï¼Œè€Œå•å…ƒæµ‹è¯•çš„logéƒ½ç›´æ¥æ‰“å°åˆ°consoleé‡Œé¢ï¼Œä¹Ÿçœå»äº†å¾ˆå¤šç¼–è¯‘ï¼Œæ‰“åŒ…çš„æ—¶é—´ï¼Œåˆèƒ½æ»¡è¶³å„ä½çš„å¿ƒç†éœ€æ±‚ï¼ˆçŒ¥çè„¸ï¼‰ï¼Œä¸€ä¸¾ä¸¤å¾—å•Šã€‚\\n\\n\",\"frontmatter\":{\"title\":\"å‰ç«¯å•å…ƒæµ‹è¯•&MochaæŒ‡åŒ—\",\"date\":\"2017-05-16\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/unit-test\"}}},{\"node\":{\"excerpt\":\"\\n> åŸæ–‡è¯‘è‡ª[Smashing Magazine](https://www.smashingmagazine.com/) -- [[How To Develop An Interactive Command Line Application Using Node.js](https://www.smashingmagazine.com/2017/03/interactive-command-line-application-node-js/)](https://www.smashingmagazine.com/2017/03/interactive-command-line-application-node-js/)\\n\\nç›¸ä¿¡å¾ˆå¤šå‰ç«¯éƒ½å¬è¯´è¿‡æˆ–è€…ä½¿ç”¨è¿‡[Gulp](http://www.gulpjs.com.cn/), [Angular CLI](https://cli.angular.io/), [Cordova](https://cordova.apache.org/), [Yeoman](http://yeoman.io/)æˆ–å…¶ä»–ç±»ä¼¼çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ä½†æœ‰æƒ³è¿‡è¿™äº›ç¨‹åºæ˜¯æ€ä¹ˆå®ç°çš„å—ï¼Ÿä¾‹å¦‚åœ¨Angular CLIä¸­ä½¿ç”¨`ng new <project-name>`åä¼šå»ºç«‹ä¸€ä¸ªå·²ç»æœ‰åŸºæœ¬é…ç½®çš„angularé¡¹ç›®ï¼›åˆæˆ–è€…åƒYeomanï¼Œä¹Ÿèƒ½è¿è¡Œæ—¶å€™è¾“å…¥æˆ–è€…é€‰æ‹©é…ç½®é¡¹ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿè‡ªå®šä¹‰é¡¹ç›®é…ç½®ï¼Œå¿«é€Ÿæ­å»ºå¥½å¼€å‘æ—¶å€™éœ€è¦ç”¨åˆ°çš„å¼€å‘ç¯å¢ƒã€‚ä¸‹é¢çš„æ•™ç¨‹ï¼Œå°±æ˜¯è®²å¦‚ä½•ä½¿ç”¨nodeå†™ä¸€ä¸ªåƒè¿™æ ·çš„å‘½ä»¤è¡Œå·¥å…·ã€‚\\n\\nåœ¨è¿™ç¯‡æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šå¼€å‘ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æˆ·èƒ½å¤Ÿè¾“å…¥ä¸€ä¸ªCSVæ–‡ä»¶åœ°å€ï¼Œä»è€Œè·å–åˆ°æ–‡ä»¶é‡Œé¢çš„ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åæ¨¡æ‹Ÿç¾¤å‘é‚®ä»¶ï¼ˆåŸæ–‡æ˜¯ä½¿ç”¨[SendGrid Api](https://github.com/sendgrid/sendgrid-nodejs)æ¨¡æ‹Ÿå‘é€ï¼‰\\næ–‡ç« ç›®å½•ï¼š\\n1.\\\"Hello World\\\"\\n2.å¤„ç†å‘½ä»¤è¡Œå‚æ•°\\n3.è¿è¡Œæ—¶è¾“å…¥å‚æ•°\\n4.æ¨¡æ‹Ÿå‘é€é‚®ä»¶\\n5.æ”¹å˜è¾“å‡ºå†…å®¹æ ·å¼\\n6.å˜æˆshellå‘½ä»¤\\n\\n\",\"frontmatter\":{\"title\":\"ä½¿ç”¨nodejså†™ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åº\",\"date\":\"2017-05-16\",\"category\":[\"å‰ç«¯\"],\"path\":\"/post/node-command-app\"}}},{\"node\":{\"excerpt\":\"\\nå¥½ä¹…ä¹‹å‰åšå¾—ä¸€ä¸ªtodo demoï¼Œä½¿ç”¨äº†æœ€è¿‘è¾ƒç«çš„reactå’Œwebpackï¼Œç”±äºå…¬å¸ç”µè„‘å„ç§ä¸èƒ½è£…ï¼Œæ‰€ä»¥æ²¡ç”¨ä¸Šes6ï¼ˆå„ç§é™åˆ¶å¤ªæƒ¨äº†ï¼‰ï¼Œåœ¨è¿™é¡ºä¾¿åšä¸ªè®°å½•ï¼Œå¹´çºªå¤§è®°æ€§å¤ªå·®äº†ã€‚\\n\\n### å°ç§‘æ™®\\nä»€ä¹ˆæ˜¯React? æŒ‰å®˜æ–¹è§£é‡Šï¼Œæ¡†æ¶å±äºMVCä¸­çš„viewå±‚ï¼Œç”±äºå…¶è®¾è®¡æ€æƒ³ç‹¬ç‰¹ï¼Œæ€§èƒ½å‡ºä¼—ï¼Œé€»è¾‘ç®€å•ï¼Œæ‰€ä»¥ä¸Šå¹´å¼€å§‹è¶Šæ¥è¶Šå¤šäººå…³æ³¨ã€‚\\nè‡³äºWebpackï¼Œå„ä½å®˜äººä»åå­—åº”è¯¥å¯ä»¥çŒœå‡ºï¼Œæ˜¯ä¸ªæ‰“åŒ…å·¥å…·ï¼Œä½†åˆä¸æ­¢æ˜¯ä¸ªæ‰“åŒ…å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒæ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·ï¼Œä¸¤ä¸ªå­—å°±å¯ä»¥å½¢å®¹å®ƒçš„ä¼˜ç‚¹äº†ï¼Œå°±æ˜¯æš´åŠ›ï¼Œç©¶ç«Ÿæœ‰å¤šæš´åŠ›ï¼Œä¸‹é¢demoå°±ä¸ºå„ä½å®˜äººæ­æ™“ï¼\\n\\n\",\"frontmatter\":{\"title\":\"React-todo demo\",\"date\":\"2016-03-02\",\"category\":[\"js framework\"],\"path\":\"/post/react-todo\"}}}]}},\"pathContext\":{\"nodes\":[{\"node\":{\"frontmatter\":{\"title\":\"webpack2æ–°ç‰¹æ€§&è¿ç§»\",\"date\":\"2017-06-24\",\"category\":[\"å‰ç«¯å·¥å…·\"],\"tags\":[\"webpack\"],\"path\":\"/post/webpack2\"},\"excerpt\":\"\\nwebpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚\\n\\n# ä»webpack1ä¸­è¿ç§»\\nå®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„[è¿ç§»æŒ‡å—](https://webpack.js.org/guides/migrating/)ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚\\n\\n## é…ç½®æ–‡ä»¶\\nå¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚\\n\\n### `module.loaders`å˜æˆ`module.rules`\\næ—§çš„`module.loader`è¢«`module.rules`å–ä»£ï¼Œåè€…å…è®¸é…ç½®`loader`æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£[module.rules](https://webpack.js.org/configuration/module/#module-rules)\\n\\n```javascript\\n// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n```\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"ä»webpack1ä¸­è¿ç§»\"},{\"depth\":2,\"value\":\"é…ç½®æ–‡ä»¶\"},{\"depth\":3,\"value\":\"å˜æˆ\"},{\"depth\":3,\"value\":\"æ”¹åŠ¨\"},{\"depth\":3,\"value\":null},{\"depth\":3,\"value\":\"CLIä¸­é…ç½®ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°\"},{\"depth\":2,\"value\":\"ä¸»è¦å˜æ›´\"},{\"depth\":3,\"value\":\"ES6æ¨¡å—\"},{\"depth\":1,\"value\":\"æ€»ç»“\"},{\"depth\":2,\"value\":\"å‚è€ƒ\"}],\"html\":\"<p>webpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚</p>\\n<h1>ä»webpack1ä¸­è¿ç§»</h1>\\n<p>å®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„<a href=\\\"https://webpack.js.org/guides/migrating/\\\">è¿ç§»æŒ‡å—</a>ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚</p>\\n<h2>é…ç½®æ–‡ä»¶</h2>\\n<p>å¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚</p>\\n<h3><code>module.loaders</code>å˜æˆ<code>module.rules</code></h3>\\n<p>æ—§çš„<code>module.loader</code>è¢«<code>module.rules</code>å–ä»£ï¼Œåè€…å…è®¸é…ç½®<code>loader</code>æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£<a href=\\\"https://webpack.js.org/configuration/module/#module-rules\\\">module.rules</a></p>\\n<pre><code class=\\\"language-javascript\\\">// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n</code></pre>\\n<!-- more -->\\n<pre><code class=\\\"language-javascript\\\">// ...\\nmodule: {\\n    rules: {\\n        test: /\\\\.less$/,\\n        use: ['style-loader', 'css-loader', 'less-loader']\\n    }\\n}\\n// ...\\n</code></pre>\\n<p>é™¤ä¸Šé¢ä¸¤é¡¹å¤–è¿˜æœ‰</p>\\n<ul>\\n<li>ç°åœ¨æŒ‡å®šloaderçš„æ—¶å€™ä¸èƒ½å†çœç•¥<code>-loader</code>åç¼€ã€‚å…·ä½“åŸå› å‚é˜…<a href=\\\"https://github.com/webpack/webpack/issues/2986\\\">#2968</a></li>\\n<li><code>json-loader</code>ä¸éœ€å†æ‰‹åŠ¨æ·»åŠ ã€‚</li>\\n<li>loaderé»˜è®¤çš„resolveé…ç½®æ˜¯ç›¸å¯¹äº<code>context</code>é…ç½®é¡¹çš„ã€‚</li>\\n<li>å–æ¶ˆäº†<code>module.preLoaders</code>ä»¥åŠ<code>module.postLoaders</code>ã€‚</li>\\n</ul>\\n<h3><code>UglifyPlugin</code>æ”¹åŠ¨</h3>\\n<ul>\\n<li><code>UglifyPlugin</code>çš„<code>sourceMap</code>ç°åœ¨çš„é»˜è®¤å€¼çš„<code>false</code>è€Œä¸æ˜¯<code>true</code>ã€‚</li>\\n<li><code>UglifyJsPlugin</code>çš„<code>compress.warnings</code>é…ç½®é¡¹ç°åœ¨é»˜è®¤ä¸º<code>false</code>è€Œä¸æ˜¯<code>true</code>ã€‚</li>\\n</ul>\\n<h3><code>ExtractTextWebpackPlugin</code></h3>\\n<p>æ’ä»¶å˜åŒ–ä¸»è¦ä½“ç°åœ¨è¯­æ³•ä¸Šï¼ŒåˆåŸæ¥çš„å•ä¸ªå‚æ•°ä¼ å˜æˆäº†å¯¹è±¡ï¼Œç°åœ¨çš„é…ç½®æ–¹å¼å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">// ExtractTextPlugin.extract\\nmodule: {\\n    rules: [\\n        test: /\\\\.css$/,\\n        loader: ExtractTextPlugin.extract({\\n            fallbackLoader: 'style-loader',\\n            loader: 'css-loader',\\n            publicPath: '/dist'\\n        })\\n    ]\\n}\\n\\n// new ExtractTextPlugin({options})\\nplugins: [\\n    new ExtractTextPlugin({\\n        filename: 'bundle.css',\\n        disabled: true,\\n        allChunks: true\\n    })\\n]\\n</code></pre>\\n<h3>CLIä¸­é…ç½®ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°</h3>\\n<p>åœ¨webpack1ä¸­å¯ä»¥ç”¨<code>process.argv</code>è·å–è‡ªå®šä¹‰å‚æ•°ï¼Œä½†æ˜¯åœ¨webpack2ä¸­è¿™è¡Œä¸ºè¢«ç¦æ­¢äº†ï¼Œæ›¿ä»£åœ°æä¾›äº†ä¸€ä¸ªæ¥å£<code>env</code>å»è·å–è‡ªå®šä¹‰å‚æ•°</p>\\n<pre><code class=\\\"language-javascript\\\">module.export = function(env) {\\n    var customStuff = env.customStuff;\\n\\n    // ...\\n    return config;\\n};\\n</code></pre>\\n<h2>ä¸»è¦å˜æ›´</h2>\\n<h3>ES6æ¨¡å—</h3>\\n<p>webpack2ç°åœ¨å¢åŠ å¯¹ES6çš„æ¨¡å—åŒ–çš„åŸç”Ÿæ”¯æŒï¼Œæ„å‘³ç€ç°åœ¨èƒ½å¤Ÿç›´æ¥è¯†åˆ«<code>import</code>å’Œ<code>export</code>äº†ï¼Œä¸éœ€è¦å…ˆè½¬æˆCommonJSæ¨¡å—çš„æ ¼å¼ã€‚\\næ”¯æŒåŸç”Ÿ<code>import</code>å¸¦æ¥çš„å½±å“å°±æ˜¯æ”¯æŒå¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œwebpack1ä½¿ç”¨å¼‚æ­¥æ¨¡å—çš„æ—¶å€™å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">require.ensure(['a'], function(a) {\\n    a.doSomething()\\n}, 'chunkName')\\n</code></pre>\\n<p>webpack2çš„<code>import</code>ä¼šè¿”å›ä¸€ä¸ª<code>promise</code>å¯¹è±¡</p>\\n<pre><code class=\\\"language-javascript\\\">import('a').then(function(a) {\\n    a.doSomething()\\n})\\n</code></pre>\\n<p>è€Œä¸”ç°åœ¨<strong>chunkåŠ è½½å¤±è´¥èƒ½è¢«Promiseæ•æ‰åˆ°</strong>ï¼Œé‚£å°±æ„å‘³ç€æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç»„ä»¶åŠ è½½å¤±è´¥çš„æ—¶å€™é‡‡å–ç›¸åº”çš„æ“ä½œã€‚</p>\\n<p>å¦å¤–ç°åœ¨<code>import</code>è¿˜æ”¯æŒåŠ¨æ€è¡¨è¾¾å¼ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function route(path, query) {\\n    return import('/routes/${path}/route').then(route => new route.Route(query);\\n    })\\n}\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>ç”¨ç€<em>vim-mode</em>ï¼Œå†™å®Œè¿™ç¯‡å·²ç»å®Œå…¨å¤´çš®å‘éº»äº†ï¼Œå®Œå…¨ç†Ÿæ‚‰ä¼°è®¡ä¸çŸ¥é“è¿˜è¦å¤šä¹…å‘¢ã€‚å›æ­£é¢˜ï¼ŒÂ·ä»å®˜æ–¹æ–‡æ¡£æ¥çœ‹ï¼Œæ”¹åŠ¨çš„åœ°æ–¹çš„ç¡®ä¸å¤šï¼Œè¿ç§»æˆæœ¬åº”è¯¥æ˜¯æ¯”è¾ƒä½çš„ï¼Œè‡³äºè¦ä¸è¦è¿ç§»æˆ‘è§‰å¾—è¿˜æ˜¯è§ä»è§æ™ºå§ï¼Œå¦‚æœæ–°ç‰ˆçš„ä¼˜ç‚¹å¥½å¤„å¤§äºè¿ç§»çš„æˆæœ¬çš„è¯å„ä½åº”è¯¥å¯ä»¥æ”¾å¿ƒå»æ”¹åŠ¨ä½ çš„é…ç½®æ–‡ä»¶äº†ã€‚æ€»çš„æ¥è¯´webpack2æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹</p>\\n<ul>\\n<li>ç¼–è¯‘é€Ÿåº¦æé«˜</li>\\n<li>ç¼–è¯‘æ–‡ä»¶å¤§å°ç›¸å¯¹å‡å°‘äº†</li>\\n<li>æ”¯æŒpromise</li>\\n<li>èƒ½æ•æ‰åˆ°chunkåŠ è½½å¤±è´¥</li>\\n</ul>\\n<h2>å‚è€ƒ</h2>\\n<ul>\\n<li><a href=\\\"https://webpack.js.org/guides/migrating/\\\">Migrating from v1 to v2</a></li>\\n<li><a href=\\\"http://www.tuicool.com/articles/aieAnan\\\">å‡çº§åˆ° webpack2</a></li>\\n<li><a href=\\\"http://imweb.io/topic/58666d57b3ce6d8e3f9f99b0\\\">webpack2 çš„ tree-shaking å¥½ç”¨å—ï¼Ÿ</a></li>\\n</ul>\",\"htmlExcerpt\":\"<p>webpack2å·²ç»å‘å¸ƒäº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚ä½†æ˜¯å› ä¸ºä¹‹å‰å·¥ä½œçš„å…³ç³»æ²¡æœ‰å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œåé¢å·¥ä½œåº”è¯¥ä¼šç”¨å¾—ä¸Šï¼Œè€Œä¸”è¶ç€è¿™æ®µæ—¶é—´æœ‰ç©ºï¼Œè¿˜æœ‰åœ¨ç†Ÿæ‚‰vimï¼Œå°±é¡ºä¾¿æ‹¿è¿™æ¥ç»ƒç»ƒæ‰‹äº†ã€‚</p>\\n<h1>ä»webpack1ä¸­è¿ç§»</h1>\\n<p>å®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†çš„<a href=\\\"https://webpack.js.org/guides/migrating/\\\">è¿ç§»æŒ‡å—</a>ï¼Œæ”¹åŠ¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯ä¼˜åŒ–å´è›®å¤šçš„ï¼Œå¦‚ç¼–è¯‘é€Ÿåº¦ï¼Œä»£ç ä¼˜åŒ–ç­‰ã€‚å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ç”¨webpackï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°ç‰ˆæœ¬è¿˜æ˜¯æŒºå€¼å¾—è¿ç§»çš„ã€‚</p>\\n<h2>é…ç½®æ–‡ä»¶</h2>\\n<p>å¦‚æœå‡çº§webpackä¹‹åç›´æ¥è¿è¡Œå‘½ä»¤çš„è¯åº”è¯¥ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢çš„ï¼Œå¯ä»¥çœ‹å‡ºé…ç½®é¡¹æœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹ç»å¸¸ä½¿ç”¨åœ°æ–¹çš„æ”¹åŠ¨ã€‚</p>\\n<h3><code>module.loaders</code>å˜æˆ<code>module.rules</code></h3>\\n<p>æ—§çš„<code>module.loader</code>è¢«<code>module.rules</code>å–ä»£ï¼Œåè€…å…è®¸é…ç½®<code>loader</code>æ›´å¤šé€‰é¡¹ï¼Œå…·ä½“æŸ¥çœ‹æ–‡æ¡£<a href=\\\"https://webpack.js.org/configuration/module/#module-rules\\\">module.rules</a></p>\\n<pre><code class=\\\"language-javascript\\\">// ...\\nmdoule: {\\n    rules: [\\n        {\\n            test: /\\\\.css$/,\\n            use: [\\n                { loader: 'style-loader' },\\n                {\\n                    loader: 'css-loader',\\n                    options: { module: true }\\n                }\\n            ]\\n        },\\n        {\\n            test: /\\\\.jsx$/,\\n            loader: 'babel-loader',\\n            options: {\\n                // ...\\n            }\\n        }\\n    ]\\n}\\n// ...\\n</code></pre>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript-é—­åŒ…\",\"date\":\"2017-06-14\",\"category\":null,\"tags\":null,\"path\":\"/post/js-closures\"},\"excerpt\":\"\\n# ä»€ä¹ˆæ˜¯é—­åŒ…\\nè®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚\\n\\n> å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰\\n\\nç„¶åçœ‹ä¸ªä¾‹å­\\n```javascript\\nfunction foo() {\\n\\tvar a = 2;\\n\\n\\tfuntion bar() {\\n\\t\\tconsole.log(a);\\n\\t}\\n\\n\\tbar();\\n}\\n\\nfoo();\\n```\\nå¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯**ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯**ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯`bar`å¯¹`a`çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯**é—­åŒ…**çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­\\n\\n```javascript\\nfucntion foo() {\\n\\tvar a = 2;\\n\\n\\tfunction bar() {\\n\\t\\tconsole.log(a)\\n\\t}\\n\\n\\treturn bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n```\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"ä»€ä¹ˆæ˜¯é—­åŒ…\"},{\"depth\":1,\"value\":\"é—­åŒ…ä¸å˜é‡\"},{\"depth\":1,\"value\":\"æ¨¡å—\"},{\"depth\":2,\"value\":\"ç°ä»£çš„æ¨¡å—æœºåˆ¶\"},{\"depth\":1,\"value\":\"æ€»ç»“\"}],\"html\":\"<h1>ä»€ä¹ˆæ˜¯é—­åŒ…</h1>\\n<p>è®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚</p>\\n<blockquote>\\n<p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰</p>\\n</blockquote>\\n<p>ç„¶åçœ‹ä¸ªä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a = 2;\\n\\n    funtion bar() {\\n        console.log(a);\\n    }\\n\\n    bar();\\n}\\n\\nfoo();\\n</code></pre>\\n<p>å¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯<strong>ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯</strong>ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯<code>bar</code>å¯¹<code>a</code>çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯<strong>é—­åŒ…</strong>çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">fucntion foo() {\\n    var a = 2;\\n\\n    function bar() {\\n        console.log(a)\\n    }\\n\\n    return bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n</code></pre>\\n<!-- more -->\\n<p>åœ¨è¿™ä¾‹å­ä¸­ï¼Œ<code>bar</code>ä¹Ÿæ˜¯åœ¨<code>foo</code>çš„ä½œç”¨åŸŸå†…ï¼Œä½†æ˜¯ä¸æ˜¯ç›´æ¥æ‰§è¡Œï¼Œè€Œæ˜¯ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚\\n<code>foo()</code>æ‰§è¡Œåï¼Œè¿”å›å€¼<code>bar</code>èµ‹å€¼ç»™<code>baz</code>å¹¶æ‰§è¡Œ<code>baz()</code>ï¼Œåœ¨è¿™é‡Œï¼Œ<code>bar()</code>æ˜¾ç„¶å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼Œå®ƒåœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸ<strong>ä»¥å¤–</strong>çš„åœ°æ–¹ã€‚</p>\\n<p>åœ¨<code>foo()</code>æ‰§è¡Œä¹‹åï¼ŒæŒ‰jsçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œåº”è¯¥ä¼šå¯¹å…¶è¿›è¡Œå›æ”¶ï¼Œè€Œé—­åŒ…çš„ç¥å¥‡ä¹‹å¤„å°±æ˜¯å¯ä»¥é˜»æ­¢è¿™äº‹æƒ…å‘ç”Ÿï¼Œå› æ­¤<code>baz()</code>åœ¨æ‰§è¡Œçš„æ—¶å€™ä¾ç„¶å¯ä»¥è®¿é—®<code>a</code>ã€‚åœ¨æ­¤ä¸€çœ‹ï¼ŒåŸæ¥å¹³æ—¶å†™çš„å¤§å¤šæ•°ä»£ç éƒ½æ˜¯é—­åŒ…å•Šã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a = 2;\\n\\n    function bar() {\\n        console.log(a);\\n    }\\n\\n    baz(bar);\\n}\\n\\nfunction baz(fn) {\\n    fn &#x26;&#x26; fn(); // è¿™é‡Œä¹Ÿæ˜¯é—­åŒ…\\n}\\n</code></pre>\\n<h1>é—­åŒ…ä¸å˜é‡</h1>\\n<p>è¦è¯´æ˜é—­åŒ…ï¼Œforå¾ªç¯ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">for(var i = 1; i &#x3C;= 10; i++) {\\n    setTimeout(function timer() {\\n        console.log(i)\\n    }, i * 1000)\\n}\\n</code></pre>\\n<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šé¢„æœŸçš„è®¤ä¸ºè¿™æ®µä¼šæ¯ç§’è¾“å‡º1ï½10ï¼Œä½†å®é™…ï¼Œè¿™æ®µä»£ç ä¼š<strong>æ¯ç§’è¾“å‡º10æ¬¡11</strong>ã€‚</p>\\n<p>é¦–å…ˆ<strong>11</strong>æ˜¯é‚£é‡Œæ¥çš„ï¼Œè¿™ä¸ªå¾ªç¯åº”è¯¥æ˜¯åœ¨<code>i=11</code>çš„æ—¶å€™ç¬¦åˆç»ˆæ­¢æ¡ä»¶ï¼Œæ‰€ä»¥ä»£ç è¾“å‡ºçš„æ˜¯å¾ªç¯ç»“æŸæ—¶<strong>i</strong>çš„æœ€ç»ˆå€¼ã€‚</p>\\n<p>ç»†æƒ³ä¸€ä¸‹ï¼Œç­”æ¡ˆå…¶å®æ˜¾è€Œæ˜“è§ï¼Œ<strong>setTimeout</strong>ä¼šæ¨åˆ°æ ˆåº•éƒ¨æ‰§è¡Œï¼Œæ‰€ä»¥ä¼šåœ¨å¾ªç¯ç»“æŸåæ‰å¼€å§‹æ‰§è¡Œï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½æ˜¯è¾“å‡º<strong>11</strong>ã€‚ä½†æ˜¯ä»€ä¹ˆé—®é¢˜é€ æˆè¿™æ ·çš„ç»“æœå‘¢ã€‚</p>\\n<p>è™½ç„¶<strong>setTimeout</strong>éƒ½æ˜¯åœ¨æ¯ä¸ªè¿­ä»£æ—¶å€™åˆ†åˆ«å®šä¹‰çš„ï¼Œä½†æ˜¯æ ¹æ®ä½œç”¨åŸŸåŸç†ï¼Œå…¶å®å‡ ä¸ªå‡½æ•°éƒ½æ˜¯éƒ½æ˜¯<strong>ä¿å­˜åœ¨ä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸä¸­</strong>ï¼Œå› æ­¤å®ƒä»¬å¼•ç”¨éƒ½æ˜¯åŒä¸€ä¸ª<strong>æ¥è‡ªå…¨å±€çš„i</strong>ã€‚</p>\\n<p>æ‰€ä»¥è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬éœ€è¦æ¯æ¬¡å¾ªç¯éƒ½æ–°å»ºä¸€ä¸ªä½œç”¨åŸŸï¼Œç„¶åæŠŠè¿­ä»£çš„å€¼ä¼ å…¥ä½œç”¨åŸŸä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨<strong>IIFE</strong>ï¼ˆä¸Šä¸€ç¯‡ä½œç”¨åŸŸæœ‰ä»‹ç»ï¼ŒIIFEæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä½œç”¨åŸŸï¼‰æ¥è§£å†³</p>\\n<pre><code class=\\\"language-javascript\\\">for(var i = 1; i &#x3C;= 10; i++) {\\n    (function(j) {\\n        setTimeout(function timer() {\\n            console.log(j)\\n        }, j * 1000)\\n    })(i)\\n}\\n\\n// æ¢æˆES6ä¸­çš„letä¹Ÿå¯ä»¥\\nfor(let i = 1; i &#x3C;= 10; i++) {\\n    setTimeout(function timer() {\\n        console.log(i)\\n    }, i * 1000)\\n}\\n</code></pre>\\n<h1>æ¨¡å—</h1>\\n<p>é—­åŒ…é™¤äº†å¹³æ—¶å®ç°çš„å›è°ƒåŠŸèƒ½å¤–ï¼Œè¿˜å¯ä»¥å®ç°å¦å¤–ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œ<strong>æ¨¡å—</strong>ã€‚\\næ—§çš„æ¨¡å—å®ç°æ–¹å¼ï¼Œå¦‚jQueryå°±å¯ä»¥ä½¿ç”¨é—­åŒ…å®ç°</p>\\n<pre><code class=\\\"language-javascript\\\">var $ = jQuery = (function Module(id) {\\n    var a = 2;\\n\\n    function doSomething() {\\n        console.log(a);\\n    }\\n\\n    function identify1() {\\n        console.log(id);\\n    }\\n\\n    function identify2() {\\n        console.log(id.toUpperCase());\\n    }\\n\\n    function change() {\\n        public.identify = identify2;\\n    }\\n\\n    var public = {\\n        doSomething: doSomething,\\n        identify: identify1,\\n        change: change\\n    }\\n\\n    return public;\\n})('hello')\\n\\n$.doSomething() // 2\\n$.identify() // hello\\n$.change()\\n$.identify() // HELLO\\n</code></pre>\\n<p>å¦‚æœä¸ç”¨å•ä¾‹çš„è¯ä¸ç”¨<strong>IIFE</strong>å³å¯ï¼Œé€šè¿‡åœ¨æ¨¡å—å†…ä¿ç•™å¯¹å…¬å…±APIçš„å¼•ç”¨ï¼Œå¯ä»¥ä»<strong>å†…éƒ¨</strong>å¯¹æ¨¡å—å®ä¾‹è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬æ·»åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p>\\n<h2>ç°ä»£çš„æ¨¡å—æœºåˆ¶</h2>\\n<p>ç°åœ¨å¤§éƒ¨åˆ†çš„æ¨¡å—åŠ è½½å™¨æœ¬è´¨ä¸Šéƒ½æ˜¯å°†è¿™ç§æ¨¡å—å®šä¹‰å°è£…è¿›APIä¸­ï¼Œå¦‚ä¸‹ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">var Module = (function Manager() {\\n    var modules = {};\\n\\n    function define(name, deps, impl) {\\n        for(var i = 0; i &#x3C; deps.length; i++) {\\n            // åœ¨modulesä¸­å¯»æ‰¾åå­—ä¸ºdeps[i]çš„æ¨¡å—\\n            deps[i] = modules[deps[i]];\\n        }\\n        // å°†ä¾èµ–çš„æ¨¡å—ä½œä¸ºargumentsä¼ å…¥moduleä¸­\\n        modules[name] = impl.apply(impl, deps);\\n    }\\n\\n    function require(name) {\\n        return modules[name];\\n    }\\n\\n    return {\\n        define: define,\\n        require: require\\n    }\\n})()\\n</code></pre>\\n<p>è¿™æ®µä»£ç æ ¸å¿ƒåœ¨<code>module[name] = impl.apply(impl, deps)</code>ä¸­ï¼Œæ¨¡å—éƒ½æŒ‰åå­—ä¿å­˜åœ¨<code>modules</code>å˜é‡ä¸­ï¼Œæ¯æ¬¡éƒ½èƒ½æ ¹æ®è·å–ç›¸å…³æ¨¡å—ã€‚ä¸‹é¢çœ‹çœ‹ä½¿ç”¨æ–¹å¼ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">Module.define('foo', [], function() {\\n    function hello(who) {\\n        return 'Hello ' + who;\\n    }\\n\\n    return {\\n        hello: hello\\n    }\\n})\\n\\nModule.define('bar', ['foo'], function(foo) {\\n    function awsome() {\\n        return foo.hello('kit').toUpperCase();\\n    }\\n\\n    return {\\n        awsome: awsome\\n    }\\n})\\n\\nvar foo = Module.require('foo'),\\n    bar = Module.require('bar');\\n\\nfoo.hello('kit'); // Hello kit\\nbar.awsome() // HELLO KIT\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>ä»ä¸Šé¢å¯ä»¥çŸ¥é“ï¼Œå¹³æ—¶å†™çš„jså¤§éƒ¨åˆ†ä»£ç éƒ½ä½¿ç”¨äº†é—­åŒ…ï¼Œé€šè¿‡äº†è§£é—­åŒ…å’Œä½œç”¨åŸŸçš„è¿è¡Œæ–¹å¼ï¼Œèƒ½å¤Ÿå‡å°‘å¹³æ—¶ä½¿ç”¨çš„å‡ºç°çš„é”™è¯¯ã€‚ä¹Ÿèƒ½é€šè¿‡é—­åŒ…ï¼Œä½¿ç”¨jså®ç°æ¨¡å—åŒ–ç­‰å…¶ä»–æ›´å¤šçš„åŠŸèƒ½ã€‚</p>\",\"htmlExcerpt\":\"<h1>ä»€ä¹ˆæ˜¯é—­åŒ…</h1>\\n<p>è®°å¾—åˆšå¼€å§‹ç”¨jsçš„æ—¶å€™å°±å¬è¿‡é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œä¸€å¼€å§‹è§‰å¾—åªæ˜¯ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ï¼Œæ²¡æœ‰å¤ªæ·±å…¥äº†è§£ï¼Œç½‘ä¸ŠæŸ¥èµ„æ–™çš„è§£é‡Šä¸€èˆ¬æ˜¯ï¼šå‡½æ•°æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œæœ€å®¹æ˜“ç”Ÿæˆé—­åŒ…çš„æ–¹å¼ä¸€èˆ¬æ˜¯å‡½æ•°é‡Œé¢å¥—å‡½æ•°ã€‚</p>\\n<blockquote>\\n<p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸå¤–æ‰§è¡Œã€‚\\n--- ä½ ä¸çŸ¥é“çš„javascriptï¼ˆä¸Šå·ï¼‰</p>\\n</blockquote>\\n<p>ç„¶åçœ‹ä¸ªä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a = 2;\\n\\n    funtion bar() {\\n        console.log(a);\\n    }\\n\\n    bar();\\n}\\n\\nfoo();\\n</code></pre>\\n<p>å¦‚æœæŒ‰ä¸Šé¢ç¬¬ä¸€æ¡çš„å®šä¹‰ï¼Œè¿™é‡Œä¸€å®šæ˜¯ç”Ÿæˆäº†é—­åŒ…ï¼Œä½†æ˜¯<strong>ç¡®åˆ‡çš„è¯´å¹¶ä¸æ˜¯</strong>ï¼Œè¿™é‡Œæœ€å‡†ç¡®çš„è¯´æ˜¯<code>bar</code>å¯¹<code>a</code>çš„å¼•ç”¨æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›åªæ˜¯<strong>é—­åŒ…</strong>çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åå†çœ‹æ¸…æ™°é—­åŒ…çš„ä¾‹å­</p>\\n<pre><code class=\\\"language-javascript\\\">fucntion foo() {\\n    var a = 2;\\n\\n    function bar() {\\n        console.log(a)\\n    }\\n\\n    return bar;\\n}\\n\\nvar baz = foo()ï¼›\\n\\nbaz(); // è¿™å°±æ˜¯é—­åŒ…æ•ˆæœ\\n</code></pre>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"ç”¨pythonå†™ä¸€ä¸ªç®€å•çˆ¬è™«\",\"date\":\"2017-06-11\",\"category\":null,\"tags\":null,\"path\":\"/post/python-crawler\"},\"excerpt\":\"\\nä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚\\n\\n# ä¸»è¦éœ€æ±‚\\nè¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ**URLç®¡ç†å™¨**ã€**ä¸‹è½½å™¨**ã€**è§£æå™¨**\\n* URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚\\n* ä¸‹è½½å™¨ä¼šé€šè¿‡**URLç®¡ç†å™¨**ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚\\n* è§£æå™¨ä¼šå°†**ä¸‹è½½å™¨**ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™**URLç®¡ç†å™¨**è¿›è¡Œé‡å¤æ“ä½œã€‚\\n\\n## å…¥å£ç¨‹åº\\n`spider_main`æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"ä¸»è¦éœ€æ±‚\"},{\"depth\":2,\"value\":\"å…¥å£ç¨‹åº\"},{\"depth\":2,\"value\":\"urlç®¡ç†å™¨\"},{\"depth\":2,\"value\":\"ä¸‹è½½å™¨\"},{\"depth\":2,\"value\":\"è§£æå™¨\"},{\"depth\":1,\"value\":\"æ€»ç»“\"}],\"html\":\"<p>ä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚</p>\\n<h1>ä¸»è¦éœ€æ±‚</h1>\\n<p>è¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ<strong>URLç®¡ç†å™¨</strong>ã€<strong>ä¸‹è½½å™¨</strong>ã€<strong>è§£æå™¨</strong></p>\\n<ul>\\n<li>URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚</li>\\n<li>ä¸‹è½½å™¨ä¼šé€šè¿‡<strong>URLç®¡ç†å™¨</strong>ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚</li>\\n<li>è§£æå™¨ä¼šå°†<strong>ä¸‹è½½å™¨</strong>ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™<strong>URLç®¡ç†å™¨</strong>è¿›è¡Œé‡å¤æ“ä½œã€‚</li>\\n</ul>\\n<h2>å…¥å£ç¨‹åº</h2>\\n<p><code>spider_main</code>æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘</p>\\n<!-- more -->\\n<pre><code class=\\\"language-python\\\">import url_manager, html_downloader, html_outputer, html_parser\\nimport sys\\n\\nclass SpiderMain(object):\\n    def __init__(self):\\n        self.urls = url_manager.UrlManager()\\n        self.downloder = html_downloader.HtmlDownloader()\\n        self.parser = html_parser.HtmlParser()\\n        self.outputer = html_outputer.HtmlOutputer()\\n\\n    def crawl(self, root_url):\\n        count = 1\\n        # åˆå§‹åŒ–åŸå§‹çš„çˆ¬å–åœ°å€\\n        self.urls.add_new_ursl(root_url)\\n\\n        while self.urls.has_new_url():\\n            try:\\n                new_url = self.urls.get_new_url()\\n                print 'crawl %d : %s' % (count, new_url)\\n                html_cont = self.downloder.download(new_url)\\n                new_urls, new_data = self.parser.parse(new_url, html_cont)\\n\\n                self.urls.add_new_urls(new_urls)\\n                self.outputer.collect_data(new_data)\\n\\n                # çˆ¬å–çš„æ•°æ®åˆ°1000æ¡æ—¶è·³å‡ºå¾ªç¯\\n                if count == 1000:\\n                    break\\n\\n                count = count + 1\\n            except:\\n                # ä½¿ç”¨sysæŠ›å‡ºå…¶ä»–å‡½æ•°é”™è¯¯\\n                info=sys.exc_info()\\n                print info[0],\\\":\\\",info[1]\\n\\n                print 'crawl failed'\\n\\n        # å°†çˆ¬å–çš„æ•°æ®ç»„è£…\\n        self.outputer.output_html()\\n\\nif __name__ == '__main__':\\n    root_url = 'http://baike.baidu.com/item/Python'\\n    obj_spider = SpiderMain()\\n    obj_spider.crawl(root_url)\\n</code></pre>\\n<h2>urlç®¡ç†å™¨</h2>\\n<pre><code class=\\\"language-python\\\"># url_manager.py\\nclass UrlManager(object):\\n    def __init__(self):\\n        self.new_urls = set()\\n        self.old_urls = set()\\n\\n    # æ·»åŠ ä¸€æ¡æ–°çš„url\\n    def add_new_url(self, url):\\n        if url is None:\\n            return\\n\\n        if url not in self.new_urls and url not in self.old_urls:\\n            self.new_urls.add(url)\\n\\n    # æ·»åŠ å¤šæ¡url\\n    def add_new_urls(self, urls):\\n        if urls is None and len(urls) == 0:\\n            return\\n\\n        for url in urls:\\n            self.add_new_url(url)\\n\\n    # æ˜¯å¦æœ‰ä»£çˆ¬å–åœ°å€\\n    def has_new_url(self):\\n        return len(self.new_urls) != 0\\n\\n    # è¿”å›ä¸€æ¡æ–°çš„url\\n    def get_new_url(self):\\n        new_url = self.new_urls.pop()\\n        self.old_urls.add(new_url)\\n        return new_url\\n</code></pre>\\n<h2>ä¸‹è½½å™¨</h2>\\n<p>ä¸‹è½½å™¨ä½¿ç”¨è‡ªå¸¦çš„<a href=\\\"https://docs.python.org/2/library/urllib2.html\\\">urllib2</a>åº“å¤„ç†è¯·æ±‚</p>\\n<pre><code class=\\\"language-python\\\"># html_downloader.py\\nimport urllib2\\n\\nclass HtmlDownloader(object):\\n    def download(self, url):\\n        if url is None:\\n            return\\n\\n        # è¿™é‡Œè®¾ç½®ä¸€ä¸‹è¶…æ—¶ï¼Œä¸ç„¶ç½‘ç»œä¼šä½¿ç¨‹åºè¿è¡Œå‡ºç°åœæ­¢\\n        response = urllib2.urlopen(url, timeout = 5)\\n\\n        # è¯·æ±‚å¤±è´¥æ—¶å€™è·³å‡ºç¨‹åº\\n        if response.getcode() != 200:\\n            return None\\n\\n        return response.read()\\n</code></pre>\\n<h2>è§£æå™¨</h2>\\n<p>è§£æå™¨åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªè§£æï¼Œä¸€ä¸ªè¾“å‡ºï¼Œé¦–å…ˆçœ‹çœ‹è§£ææ¨¡å—ã€‚</p>\\n<p>è§£æhtmlæˆ‘ä»¬ä½¿ç”¨äº†<a href=\\\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html\\\">beautifulsoup</a>ï¼Œè§£æåå¯ä»¥ä½¿ç”¨åº“æä¾›çš„æ–¹æ³•åšDOMæ“ä½œï¼Œè·å–æœ‰ç”¨çš„ä¿¡æ¯</p>\\n<pre><code class=\\\"language-python\\\"># html_parser.py\\nfrom bs4 import BeautifulSoup\\nimport re\\nimport urlparse\\n\\nclass HtmlParser(object):\\n    def _get_new_urls(self, page_url, soup):\\n        new_urls = set()\\n\\n        # è·å–aæ ‡ç­¾ä¸­æ‰€æœ‰åŒ¹é…çš„urlåœ°å€\\n        links = soup.find_all('a', href=re.compile(r'/item/'))\\n        for link in links:\\n            new_url = link['href']\\n            new_full_url = urlparse.urljoin(page_url, new_url)\\n            new_urls.add(new_full_url)\\n\\n        return new_urls\\n\\n    def _get_new_data(self, page_url, soup):\\n        res_data = {}\\n\\n        # è·å–é¡µé¢ç›¸å…³å†…å®¹\\n        res_data['url'] = page_url\\n\\n        # &#x3C;dd class=\\\"lemmaWgt-lemmaTitle-title\\\"> &#x3C;h1>Python&#x3C;/h1>\\n        title_node = soup.find('dd', class_='lemmaWgt-lemmaTitle-title').find('h1')\\n        res_data['title'] = title_node.get_text()\\n\\n        # &#x3C;div class=\\\"lemma-summary\\\" label-module=\\\"lemmaSummary\\\">\\n        summary_node = soup.find('div', class_='lemma-summary')\\n        res_data['summary'] = summary_node.get_text()\\n\\n        return res_data\\n\\n    def parse(self, page_url, html_cont):\\n        if page_url is None or html_cont is None:\\n            return\\n\\n        soup = BeautifulSoup(html_cont, 'html.parser', from_encoding='utf-8')\\n        new_urls = self._get_new_urls(page_url, soup)\\n        new_data = self._get_new_data(page_url, soup)\\n\\n        return new_urls, new_data\\n</code></pre>\\n<pre><code class=\\\"language-python\\\"># html_outputer.py\\nclass HtmlOutputer(object):\\n    def __init__(self):\\n        self.datas = []\\n\\n    # è·å–åˆ°çš„é¡µé¢å†…å®¹å¯¹è±¡pushåˆ°æ•°ç»„ä¸­\\n    def collect_data(self, data):\\n        if data is None:\\n            return\\n\\n        self.datas.append(data)\\n\\n    # å°†æ•°ç»„å¾ªç¯æ‹¼æ¥ï¼Œå†™å…¥htmlæ–‡ä»¶ä¸­\\n    def output_html(self):\\n        fout = open('output.html', 'w')\\n\\n        fout.write('&#x3C;html>')\\n        fout.write('&#x3C;body>')\\n        fout.write('&#x3C;table>')\\n\\n        for data in self.datas:\\n            fout.write('&#x3C;tr>')\\n            fout.write('&#x3C;td>%s&#x3C;/td>'%data['url'])\\n            fout.write('&#x3C;td>%s&#x3C;/td>'%data['title'].encode('utf-8'))\\n            fout.write('&#x3C;td>%s&#x3C;/td>'%data['summary'].encode('utf-8'))\\n            fout.write('&#x3C;/tr>')\\n\\n        fout.write('&#x3C;/html>')\\n        fout.write('&#x3C;/body>')\\n        fout.write('&#x3C;/table>')\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>çŸ­çŸ­å‡ è¡Œä»£ç å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼Œè¶³ä»¥ä½“ç°pythonçš„ç®€å•æ˜“ç”¨ã€‚å­¦ä¹ pythonä¸»è¦æ˜¯æƒ³äº†è§£ä¸€ä¸‹æœºå™¨å­¦ä¹ ï¼Œåé¢ä¼šçœ‹ä¸€äº›ä¹¦ç±å’Œèµ„æ–™ï¼Œåº”è¯¥ä¼šå†è®°å½•ï¼Œä½†æ˜¯åé¢ä¼°è®¡ä¼šå…ˆå†™å®Œæ·±åº¦å­¦ä¹ javascriptç³»åˆ—å…ˆã€‚</p>\",\"htmlExcerpt\":\"<p>ä¹‹å‰ä¸€ç›´æœ‰å­¦ä¹ pythonï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ˜¯åœ¨å­¦ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ä¸œè¥¿ï¼Œæ‰€åœ¨åœ¨è¿™æ®µç©ºé—²çš„æ—¶é—´æ‰“ç®—ç³»ç»Ÿå­¦ä¸€ä¸‹pythonã€‚åœ¨è¿™ä¼šä½¿ç”¨pythonå†™ä¸€ä¸ªçˆ¬ç™¾ç§‘çš„ç®€å•çˆ¬è™«ï¼Œé¦–å…ˆåˆ†æä¸‹çˆ¬è™«çš„éœ€æ±‚ã€‚</p>\\n<h1>ä¸»è¦éœ€æ±‚</h1>\\n<p>è¿™ä¸ªdemoä¸­çˆ¬è™«æœ‰3ä¸ªä¸»è¦æ¨¡å—ï¼Œ<strong>URLç®¡ç†å™¨</strong>ã€<strong>ä¸‹è½½å™¨</strong>ã€<strong>è§£æå™¨</strong></p>\\n<ul>\\n<li>URLç®¡ç†å™¨ä¸»è¦å¤„ç†çˆ¬å–çš„URLçš„çŠ¶æ€ã€‚</li>\\n<li>ä¸‹è½½å™¨ä¼šé€šè¿‡<strong>URLç®¡ç†å™¨</strong>ä¼ é€è¿‡æ¥æœ‰æ•ˆURLè¿›è¡Œä¸‹è½½ã€‚</li>\\n<li>è§£æå™¨ä¼šå°†<strong>ä¸‹è½½å™¨</strong>ä¸‹è½½çš„å†…å®¹è§£ææˆå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œä¿å­˜ã€‚å¦‚æœè§£æå‡ºæœ‰æ•ˆURLå†ä¼ ç»™<strong>URLç®¡ç†å™¨</strong>è¿›è¡Œé‡å¤æ“ä½œã€‚</li>\\n</ul>\\n<h2>å…¥å£ç¨‹åº</h2>\\n<p><code>spider_main</code>æ–‡ä»¶ä¸ºç¨‹åºå…¥å£ï¼Œå¤„ç†æ•´ä¸ªçˆ¬è™«çš„è¿è¡Œé€»è¾‘</p>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"æ·±å…¥å­¦ä¹ javascript--ä½œç”¨åŸŸ\",\"date\":\"2017-05-31\",\"category\":null,\"tags\":null,\"path\":\"/post/js-scope\"},\"excerpt\":\"\\n# å‰è¨€\\nä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚\\n\\n# ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ\\nJSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º**ä½œç”¨åŸŸ**ã€‚\\n\\n\\n\\n## ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹\\nå¦‚åœ¨`var a = 2`æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚\\n\\né¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚\\n1. é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚\\n2. æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º**å¼•æ“**ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†`a = 2`è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®**ä½œç”¨åŸŸ**å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª`a`çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ**å¼•æ“**å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ**å¼•æ“**æ‰¾åˆ°`a`å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ**å¼•æ“**ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚\\n\\n**æ€»ç»“**ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ**ç¼–è¯‘å™¨**ä¼šåœ¨å½“å‰**ä½œç”¨åŸŸ**ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨**ä½œç”¨åŸŸ**ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"å‰è¨€\"},{\"depth\":1,\"value\":\"ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ\"},{\"depth\":2,\"value\":\"ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹\"},{\"depth\":3,\"value\":\"LSHå’ŒRSHæŸ¥è¯¢\"},{\"depth\":2,\"value\":\"æå‡\"},{\"depth\":3,\"value\":\"å‡½æ•°ä¼˜å…ˆ\"},{\"depth\":2,\"value\":\"ä½œç”¨åŸŸåµŒå¥—\"},{\"depth\":1,\"value\":\"å‡½æ•°ä½œç”¨åŸŸ\"},{\"depth\":1,\"value\":\"å—ä½œç”¨åŸŸ\"},{\"depth\":2,\"value\":\"å»¶é•¿ä½œç”¨åŸŸé“¾(å—ä½œç”¨åŸŸ)\"},{\"depth\":1,\"value\":\"æ€»ç»“\"}],\"html\":\"<h1>å‰è¨€</h1>\\n<p>ä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p>\\n<h1>ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ</h1>\\n<p>JSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º<strong>ä½œç”¨åŸŸ</strong>ã€‚</p>\\n<h2>ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹</h2>\\n<p>å¦‚åœ¨<code>var a = 2</code>æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚</p>\\n<p>é¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚</p>\\n<ol>\\n<li>é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚</li>\\n<li>æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º<strong>å¼•æ“</strong>ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†<code>a = 2</code>è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®<strong>ä½œç”¨åŸŸ</strong>å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª<code>a</code>çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ<strong>å¼•æ“</strong>å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ<strong>å¼•æ“</strong>æ‰¾åˆ°<code>a</code>å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ<strong>å¼•æ“</strong>ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</li>\\n</ol>\\n<p><strong>æ€»ç»“</strong>ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ<strong>ç¼–è¯‘å™¨</strong>ä¼šåœ¨å½“å‰<strong>ä½œç”¨åŸŸ</strong>ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p>\\n<!-- more -->\\n<h3>LSHå’ŒRSHæŸ¥è¯¢</h3>\\n<p>å®šä¹‰ä¸€ä¸ªå˜é‡<code>var a = 2</code>ï¼Œæˆ–è€…æ‰§è¡Œä¸€ä¸ªç®€å•çš„å‡½æ•°<code>console.log(2)</code>ä¸­ï¼Œä¼šåŒæ—¶æˆ–è€…å•ç‹¬å‡ºç°<strong>LSH</strong>æˆ–è€…<strong>RSH</strong>æŸ¥è¯¢ã€‚å…¶å®åœ¨ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯LSHæŸ¥è¯¢ï¼Œç¬¬äºŒæ­¥å°±æ˜¯RSHæŸ¥è¯¢ï¼Œç®€å•ç‚¹æ¥è¯´</p>\\n<ul>\\n<li>LSHæŸ¥è¯¢å°±æ˜¯æ‰¾åˆ°å˜é‡çš„å®¹å™¨æœ¬èº«</li>\\n<li>RSHæŸ¥è¯¢å°±æ˜¯æ‰¾åˆ°å®¹å™¨çš„åŸå€¼</li>\\n</ul>\\n<pre><code class=\\\"language-javascript\\\">// var aå°±æ˜¯LSH\\n// a = 2å°±æ˜¯RSH\\nvar a = 2;\\n\\n// è¿™é‡Œçš„aå…¶å®å°±æ˜¯åšäº†ä¸€ä¸ªRSHæŸ¥è¯¢\\nconsole.log(a)\\n</code></pre>\\n<p>ä¸ºä»€ä¹ˆéœ€è¦ç†è§£è¿™ä¸¤ä¸ªæ¦‚å¿µå‘¢ï¼Œå› ä¸ºåœ¨å˜é‡æ²¡æœ‰å£°æ˜çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ç§æŸ¥è¯¢çš„è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo(a) {\\n    console.log(a + b);\\n    b = a;\\n}\\n\\nfoo(2);\\n</code></pre>\\n<p>åœ¨ç¬¬ä¸€æ¬¡å¯¹båšRSHæŸ¥è¯¢æ—¶å€™æ˜¯æ— æ³•æ‰¾åˆ°è¯¥å˜é‡ï¼Œæ‰€ä»¥å¼•æ“åœ¨è¿™æ—¶å€™å°±ä¼šæŠ¥å‡ºä¸€ä¸ª<code>ReferenceError</code>çš„é”™è¯¯ã€‚ç¬¬äºŒä¸ªbä¹Ÿè¿˜æ²¡æœ‰å£°æ˜ï¼Œä½†æ˜¯å¼•æ“å¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå› ä¸ºè¿™é‡Œå…ˆåšäº†LSHæŸ¥è¯¢ï¼Œæ‰€ä»¥å¯ä»¥çŸ¥é“ï¼ŒLSHæŸ¥è¯¢å¦‚æœæœªæ‰¾åˆ°å˜é‡ï¼Œä¼šåœ¨å…¨å±€ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡bï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼Œå†åšRSHæŸ¥è¯¢ã€‚å¼•æ“è¿˜æœ‰ä¸€ä¸ª<code>TypeError</code>çš„é”™è¯¯ï¼Œåœ¨è¯•å›¾å¯¹ä¸€ä¸ªéå‡½æ•°ç±»å‹çš„å€¼æ‰§è¡Œå‡½æ•°è°ƒç”¨ï¼Œæˆ–è€…å¼•ç”¨<code>null</code>, <code>undefined</code>ç±»å‹å€¼ä¸­çš„å±æ€§æ—¶å€™ï¼Œå°±ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ã€‚</p>\\n<h2>æå‡</h2>\\n<p>å¾ˆå¤šæ—¶å€™éƒ½ä¼šè®¤ä¸ºjavascriptä»£ç æ˜¯ç”±ä¸Šåˆ°ä¸‹ä¸€è¡Œä¸€è¡Œæ‰§è¡Œçš„ï¼Œä½†å®é™…ä¸Šå¹¶ä¸å®Œå…¨æ­£ç¡®ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µä¼šå¯¼è‡´è¿™ä¸ªå‡è®¾æ˜¯é”™è¯¯çš„ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">a = 2;\\n\\nvar a;\\n\\nconsole.log(a);  // 2\\n</code></pre>\\n<p>è¿˜æœ‰å¦å¤–ä¸€æ®µ</p>\\n<pre><code class=\\\"language-javascript\\\">console.log(a); // undefined\\n\\nvar a = 2;\\n</code></pre>\\n<p>å½“jsæ‰§è¡Œä¸€ä¸ª<code>var a = 2</code>çš„æ—¶å€™ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„ä¸€ä¸ªå£°æ˜ï¼Œè€Œæ˜¯<code>var a</code>, <code>a = 2</code>ä¸¤ä¸ªå£°æ˜ï¼Œ<code>var a</code>ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæ‰§è¡Œï¼Œ<code>a = 2</code>åˆ™ä¼šåœ¨æ‰§è¡Œé˜¶æ®µæ‰§è¡Œã€‚æ‰€ä»¥ç¬¬äºŒæ®µä»£ç å°±å¾ˆå®¹æ˜“è§£é‡Šé€šäº†ï¼Œä»£ç æ‰§è¡Œé¡ºåºåº”è¯¥å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">var a;\\n\\nconsole.log(a);\\n\\na = 2;\\n</code></pre>\\n<p>è€Œè¿™ä¸ªå‡½æ•°å£°æ˜è‡ªåŠ¨ç§»åŠ¨åˆ°é¡¶éƒ¨ï¼Œå°±å«åš<strong>æå‡</strong>ã€‚</p>\\n<p>æå‡æ“ä½œä¼šå‡ºç°åœ¨<strong>æ¯ä¸ªä½œç”¨åŸŸ</strong>ä¸­ï¼Œçœ‹ä»¥ä¸‹ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">foo();\\n\\nfunction foo() {\\n    console.log(a);\\n    var a = 2;\\n}\\n</code></pre>\\n<p>å®é™…æ‰§è¡Œå¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    var a;\\n    console.log(a);\\n    a = 2;\\n}\\n\\nfoo();\\n</code></pre>\\n<p>å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°å£°æ˜ä¼šè¢«æå‡åˆ°æœ€é¡¶éƒ¨ï¼Œä½†æ˜¯å‡½æ•°è¡¨è¾¾å¼å´ä¸ä¼šè¢«æå‡</p>\\n<pre><code>foo(); // TypeError\\nbar(); // ReferenceError\\n\\nvar foo = function bar() {\\n    ...\\n}\\n</code></pre>\\n<p>åœ¨è¿™é‡Œè¦æ³¨æ„ï¼ŒæŠŠfooåˆ†é…åˆ°å…·åå‡½æ•°ä¸‹ï¼Œä½†æ˜¯å…·åå‡½æ•°ä¸‹ä¹Ÿæ— æ³•åœ¨æ‰€åœ¨ä½œç”¨åŸŸä¸­è¿è¡Œã€‚ä¸Šé¢å‡½æ•°çš„æ‰§è¡Œæ–¹å¼åº”è¯¥å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">var foo;\\n\\nfoo(); // TypeError\\n\\nbar(); // ReferenceError\\n\\nfoo = function() {\\n    var bar = ... self ...\\n}\\n</code></pre>\\n<h3>å‡½æ•°ä¼˜å…ˆ</h3>\\n<p>ä»ä¸Šé¢å¯ä»¥çŸ¥é“å®šä¹‰å˜é‡å’Œå£°æ˜å‡½æ•°éƒ½ä¼šè§¦å‘æå‡ï¼Œä½†æ˜¯å¦‚æœåœ¨é‡å¤å£°æ˜çš„ä»£ç ä¸‹ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢</p>\\n<pre><code class=\\\"language-javascript\\\">foo(); // 1\\n\\nvar foo;\\n\\nfunction foo() {\\n    console.log(1);\\n}\\n\\nfoo = function() {\\n    console.log(2);\\n}\\n</code></pre>\\n<p>è¿™é‡Œä¼šå‡ºç°<strong>1</strong>è€Œä¸æ˜¯<strong>2</strong>ï¼å› ä¸ºå‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œå†åˆ°å˜é‡ï¼Œæ‰€ä»¥æ‰§è¡Œé¡ºåºåº”è¯¥å¦‚ä¸‹</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    console.log(1);\\n}\\n\\nfoo();\\n\\nfoo = function() {\\n    console.log(2);\\n}\\n</code></pre>\\n<p>åœ¨ä¸€ä¸ªæ™®é€šçš„å—( { ... } çš„ä»£ç )ï¼Œå‡½æ•°ä¹Ÿä¼šæå‡ï¼Œå¦‚ä¸‹ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">var a = true;\\n\\nif(a) {\\n    function foo() {\\n        ...\\n    }\\n}else {\\n    function bar() {\\n        ...\\n    }\\n}\\n</code></pre>\\n<p>è¿™é‡Œçš„<code>foo</code>å’Œ<code>bar</code>éƒ½ä¸ä¼šæŒ‰åˆ¤æ–­æ¥å£°æ˜å‡½æ•°ï¼Œæ‰€ä»¥åœ¨åˆ¤æ–­å£°æ˜å‡½æ•°å¹¶ä¸å¯é ã€‚</p>\\n<h2>ä½œç”¨åŸŸåµŒå¥—</h2>\\n<p>å½“ä¸€ä¸ªå—æˆ–è€…å‡½æ•°åµŒå¥—åœ¨å¦ä¸€ä¸ªå—æˆ–è€…å‡½æ•°ä¸­ï¼Œå°±ç§°ä¸ºä½œç”¨åŸŸåµŒå¥—ã€‚åœ¨å½“å‰ä½œç”¨åŸŸæ²¡æœ‰æ‰¾åˆ°æŸä¸ªå˜é‡æ—¶ï¼Œ<strong>å¼•æ“</strong>å°±ä¼šåœ¨å¤–å±‚çš„ä½œç”¨åŸŸç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å˜é‡ï¼Œæˆ–è€…æŠµè¾¾æœ€å¤–å±‚ï¼ˆå…¨å±€ï¼‰ä½œç”¨åŸŸä¸ºæ­¢ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo(a) {\\n    // båœ¨å‡½æ•°ä¸­å°šæœªå®šä¹‰ï¼Œæ‰€ä»¥åœ¨ä¸Šä¸€ä¸ªä½œç”¨åŸŸä¸­æŸ¥æ‰¾\\n    // åœ¨å…¨å±€ä¸­æ‰¾åˆ°å˜é‡bï¼Œèµ‹å€¼\\n    console.log(a + b);\\n}\\n\\nvar b = 2;\\n\\nfoo(2); // 4\\n</code></pre>\\n<h1>å‡½æ•°ä½œç”¨åŸŸ</h1>\\n<p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œæˆ–è€…è¯´å‡½æ•°æœ‰è‡ªå·±ä½œç”¨åŸŸã€‚å½“æ‰§è¡Œæµè¿›å…¥ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°çš„ç¯å¢ƒå°±ä¼šè¢«æ¨å…¥ä¸€ä¸ªç¯å¢ƒæ ˆä¸­ã€‚è€Œå‡½æ•°æ‰§è¡Œä¹‹åï¼Œæ ˆå°†å…¶ç¯å¢ƒå¼¹å‡ºï¼ŒæŠŠæ§åˆ¶æƒè¿”å›ä¹‹å‰çš„æ‰§è¡Œç¯å¢ƒã€‚å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡è®¿é—®æ­£æ˜¯åˆè¿™ä¸ªæ‰§è¡Œæœºåˆ¶æ§åˆ¶ç€ã€‚è€Œé€šè¿‡è¿™ä¸€æœºåˆ¶ï¼Œèƒ½å®ç°éšè—ä½œç”¨åŸŸä¸­å˜é‡æˆ–è€…å‡½æ•°ï¼Œè§„é¿åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\n    function bar(a) {\\n        // iä¼šä»forå—ä¸­æ‰¾åˆ°å˜é‡å®¹å™¨ï¼Œç„¶åæ‰§è¡Œèµ‹å€¼\\n        i = 3;\\n        console.log(a + i);\\n    }\\n\\n    for(var i = 0; i &#x3C;= 10; i++) {\\n        // æ‰§è¡Œbaråä¼šç»™ié‡æ–°èµ‹å€¼3ï¼Œæ»¡è¶³i&#x3C;=10ï¼Œå‡½æ•°æ­»å¾ªç¯\\n        bar(i * 2);\\n    }\\n}\\n</code></pre>\\n<p>è¿™æ—¶å€™åªéœ€è¦åœ¨barå†…éƒ¨ä¿®æ”¹<code>i = 3</code>ä¸º<code>var i = 3</code>ï¼Œå°†iå˜ä¸º<code>bar</code>ä¸­çš„æœ¬åœ°å˜é‡å³å¯ã€‚é™¤äº†æ–°å»ºä¸€ä¸ªå‡½æ•°å»éšè—å˜é‡ï¼Œè¿˜èƒ½é€šè¿‡åŒ¿åå‡½æ•°çš„ç‰¹æ€§å»å®ç°éšè—å˜é‡ï¼Œç¤¾åŒºä¸­ä¹Ÿç§°ä¸º<strong>IIFE</strong>ã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">var a = 2;\\n\\n(function() {\\n    var a = 3;\\n    console.log(a); // 3\\n})()\\n\\nconsole.log(a); // 2\\n</code></pre>\\n<p>è¿˜èƒ½å½“ä½œå‡½æ•°è°ƒç”¨ä¼ å‚</p>\\n<pre><code class=\\\"language-javascript\\\">var a = 2;\\n\\n(function(global) {\\n    var a = 3;\\n\\n    console.log(a); // 3\\n    console.log(global.a); // 2\\n})(window)\\n</code></pre>\\n<p>é€šè¿‡éšè—å˜é‡æ´»ç€å‡½æ•°ï¼Œèƒ½å®ç°<strong>å…¨å±€å‘½åç©ºé—´</strong>æˆ–è€…<strong>JSæ¨¡å—åŒ–</strong>(åé¢ä¼šè®¨è®ºåˆ°)ã€‚</p>\\n<h1>å—ä½œç”¨åŸŸ</h1>\\n<p>åœ¨JSä¸­å—ä½œç”¨åŸŸå¹¶ä¸å¸¸è§ï¼Œä½†æ˜¯æŸäº›ä»£ç å´ç»å¸¸ä¼šè¢«è¯¯ä»¥ä¸ºæ˜¯å—ä½œç”¨åŸŸï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“é€ æˆç†è§£ä¸Šçš„é”™è¯¯ï¼Œä¾‹å¦‚ä¸‹é¢çš„å¸¸ç”¨ä»£ç </p>\\n<pre><code class=\\\"language-javascript\\\">for(var i = 0; i &#x3C; 10; i++) {\\n    console.log(i);\\n}\\n\\nif(true) {\\n    var foo = 'bar';\\n}\\n\\nconsole.log(i, foo); // 10 bar\\n</code></pre>\\n<p>ä¸Šé¢ä»£ç çš„<code>i</code>å’Œ<code>foo</code>å…¶å®éƒ½åœ¨å¤–éƒ¨ä½œç”¨åŸŸä¸­å®šä¹‰çš„ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç å—ä¸­å®šä¹‰çš„å˜é‡ï¼Œæ‰€ä»¥å¹³æ—¶åœ¨è¿™äº›ä»£ç ä¸­å®šä¹‰å˜é‡åº”è¯¥æ˜¯è·ç¦»ä½¿ç”¨çš„åœ°æ–¹è¶Šè¿‘è¶Šå¥½ã€‚</p>\\n<h2>å»¶é•¿ä½œç”¨åŸŸé“¾(å—ä½œç”¨åŸŸ)</h2>\\n<ul>\\n<li>\\n<p>withè¯­å¥ã€‚withä»å¯¹è±¡ä¸­åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡åªåœ¨withå£°æ˜ä¸­æœ‰æ•ˆã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function foo() {\\nvar qs = \\\"?bar=true\\\";\\n\\nwith(location) {\\n    // hrefå®é™…æ˜¯location.hrefï¼Œåªèƒ½åœ¨withå†…éƒ¨ä½¿ç”¨\\n    var url = href + qs;\\n}\\n\\nreturn url;\\n}\\n</code></pre>\\n</li>\\n<li>\\n<p>try/catchä¸­çš„catchåˆ†å¥ä¼šåˆ›é€ ä¸€ä¸ªå—ä½œç”¨åŸŸï¼Œå£°æ˜çš„é”™è¯¯å¯¹è±¡å˜é‡ä»…åœ¨catchå†…éƒ¨æœ‰æ•ˆã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">try {\\nundefined(); // å¼ºåˆ¶æ‰§è¡Œä¸€ä¸ªé”™è¯¯æ“ä½œ\\n} catch(err) {\\nconsole.log(err);\\n}\\n</code></pre>\\n</li>\\n</ul>\\n<p>console.log(err); // ReferenceError</p>\\n<pre><code>## let/const\\nåœ¨ES6ä¸­ï¼Œå¼•å…¥äº†letå’Œconstï¼Œæä¾›äº†é™¤varä»¥å¤–çš„å¦ä¸€ç§å£°æ˜å˜é‡çš„æ–¹å¼ã€‚ç”¨let/constå£°æ˜çš„å˜é‡ä¼šç»‘å®šåœ¨æ‰€åœ¨çš„æ‰€ç”¨åŸŸä¸­ï¼ˆé€šå¸¸æ˜¯{ ... }å†…éƒ¨ï¼Œæ¢å¥è¯è¯´ï¼Œlet/constèƒ½åŠ«æŒæ‰€åœ¨ä½œç”¨åŸŸã€‚\\n```javascript\\n// ä¿®æ”¹ä¸‹ä¸Šé¢çš„å¾ªç¯ä¾‹å­\\nfor(let i = 0; i &#x3C; 10; i++) {\\n    console.log(i);\\n}\\n\\nconsole.log(i); // ReferenceError\\n</code></pre>\\n<p>conståœ¨ä½¿ç”¨æ–¹æ³•ä¸Šè·Ÿlenæ˜¯ä¸€æ ·ï¼Œåªæ˜¯åˆ›å»ºçš„å€¼æ˜¯å›ºå®šçš„ï¼ˆå¸¸é‡ï¼‰ã€‚åé¢ä»»ä½•ä¿®æ”¹å€¼çš„æ“ä½œéƒ½ä¼šæŠ¥é”™ã€‚<strong>(æ³¨ï¼šconstå®é™…ä¿è¯çš„å¹¶ä¸æ˜¯å¸¸é‡ä¸èƒ½æ”¹å˜ï¼Œè€Œæ˜¯å˜é‡çš„å†…å­˜åœ°å€ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥å¯¹äºå¤æ‚çš„ç±»å‹objectï¼Œä¹Ÿåªèƒ½ä¿è¯å¯¹è±¡çš„æŒ‡é’ˆåœ°å€æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å¯¹è±¡å†…éƒ¨çš„æ•°æ®ç»“æ„åˆ™ä¸èƒ½å›ºå®š)</strong></p>\\n<pre><code class=\\\"language-javascript\\\">const foo = {};\\n\\nfoo.bar = 'bar';\\nconsole.log(foo.bar); // bar\\n\\nfoo = {}; // TypeError\\n</code></pre>\\n<h1>æ€»ç»“</h1>\\n<p>é€šè¿‡å­¦ä¹ jsä¸­çš„ä½œç”¨åŸŸè¿è¡Œæ–¹å¼ï¼Œäº†è§£å˜é‡åœ¨æ‰§è¡Œç¯å¢ƒçš„å£°æ˜å‘¨æœŸï¼Œä»¥åŠå“ªéƒ¨åˆ†ä»£ç èƒ½è®¿é—®å…¶ä¸­çš„å˜é‡ã€‚èƒ½ä¸ºåé¢å­¦ä¹ <strong>é—­åŒ…</strong>è¿˜æœ‰å®ç°æ¨¡å—åŒ–æ‰“ä¸‹åŸºç¡€ã€‚ä»¥ä¸‹æ˜¯å…³äºä½œç”¨åŸŸçš„å‡ ç‚¹æ€»ç»“ï¼š</p>\\n<ul>\\n<li>å‡½æ•°å±€éƒ¨ç¯å¢ƒä¸ä»…æœ‰è®¿é—®å‡½æ•°ä½œç”¨åŸŸçš„å˜é‡çš„æƒé™ï¼Œè€Œä¸”è¿˜æœ‰æƒè®¿é—®å…¶åŒ…å«(çˆ¶)ç¯å¢ƒçš„å˜é‡ã€‚</li>\\n<li>é™¤å…¨å±€ã€å‡½æ•°ä½œç”¨åŸŸå¤–ï¼Œè¿˜æœ‰æ¯”è¾ƒå°‘ç”¨çš„å—ä½œç”¨åŸŸã€‚</li>\\n</ul>\",\"htmlExcerpt\":\"<h1>å‰è¨€</h1>\\n<p>ä½¿ç”¨jså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¸€å¼€å§‹è§‰å¾—jsåªæ˜¯ä¸€é—¨ç©å…·è¯­è¨€ï¼Œç”¨æ¥åšåšå‰ç«¯äº¤äº’æ•ˆæœã€‚ä½†æ˜¯éšç€è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ…¢æ…¢å‘ç°jsçš„å…¶ä»–ä¼˜ç‚¹ï¼šçµæ´»çš„è‡ªç”±çš„ä»£ç ç¼–å†™å¸¦æ¥å¤šç§å¤šæ ·çš„è®¾è®¡æ–¹å¼ï¼Œä»¤äººæ…¢æ…¢ç€è¿·ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½æ„Ÿè§‰åªæ˜¯åœç•™åœ¨å¦‚ä½•ä½¿ç”¨jså®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œå¶å°”é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µæˆ–è€…éœ€è¦æ·±åº¦ä¼˜åŒ–çš„ç‚¹ï¼Œå°±ä¼šæ„Ÿåˆ°æƒ˜ç„¶ï¼Œä¸ºäº†æ‰“ç ´è¿™å°´å°¬æƒ…å†µï¼Œæ‰“ç®—å¼€å§‹è¯»ç›¸å…³çš„ä¸€äº›ä¹¦ç±æ¥åˆ†æjsæ›´æ·±å±‚çš„è®¾è®¡è¿˜æœ‰ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œâ€œè¾¾åˆ°çŸ¥å…¶ç„¶ä¸”çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p>\\n<h1>ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ</h1>\\n<p>JSä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­èƒ½å¤Ÿå‚¨å­˜å˜é‡ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹å€¼è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚æ¢å¥è¯è¯´ï¼Œè§„å®šå˜é‡å‚¨å­˜åœ¨å“ªé‡Œï¼Œç¨‹åºè¦å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™å°±ç§°ä¸º<strong>ä½œç”¨åŸŸ</strong>ã€‚</p>\\n<h2>ç†è§£ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹</h2>\\n<p>å¦‚åœ¨<code>var a = 2</code>æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¸‰ä¸ªå‚ä¸äº†è¿™æ¬¡è¿‡ç¨‹ã€‚</p>\\n<p>é¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°†è¿™æ®µç¨‹åºåˆ†è§£æˆè¯æ³•å•å…ƒï¼Œç„¶åå°†è¯æ³•å•å…ƒè§£ææˆä¸€ä¸ªæ ‘ç»“æ„ã€‚\\n1. é‡åˆ°var aï¼Œç¼–è¯‘å™¨ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾æ˜¯æœ‰å·²ç»å­˜åœ¨æœ‰è¯¥åç§°çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¿™ä¸€å£°æ˜ï¼Œç»§ç»­ç¼–è¯‘ï¼›å¦åˆ™ï¼Œä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸé›†åˆä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å‘½åä¸ºaã€‚\\n2. æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¸º<strong>å¼•æ“</strong>ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œä»£ç ç”¨æ¥å¤„ç†<code>a = 2</code>è¿™ä¸ªèµ‹å€¼æ“ä½œã€‚å¼•æ“è¿è¡Œæ—¶ä¼šé¦–å…ˆè¯¢é—®<strong>ä½œç”¨åŸŸ</strong>å½“å‰ä½œç”¨é›†åˆæ˜¯å¦æœ‰ä¸€ä¸ª<code>a</code>çš„å˜é‡ã€‚å¦‚æœæ˜¯ï¼Œ<strong>å¼•æ“</strong>å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œå¼•æ“ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ<strong>å¼•æ“</strong>æ‰¾åˆ°<code>a</code>å˜é‡ï¼Œå°±ä¼šèµ‹å€¼2ã€‚å¦åˆ™ï¼Œ<strong>å¼•æ“</strong>ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p>\\n<p><strong>æ€»ç»“</strong>ï¼šå˜é‡èµ‹å€¼åˆ†åˆ«æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œ<strong>ç¼–è¯‘å™¨</strong>ä¼šåœ¨å½“å‰<strong>ä½œç”¨åŸŸ</strong>ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨<strong>ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å°±å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p>\\n\"}},{\"node\":{\"frontmatter\":{\"title\":\"jså®ç°add(1)(2)(3)\",\"date\":\"2017-05-28\",\"category\":[\"javascript\"],\"tags\":null,\"path\":\"/post/add-chain\"},\"excerpt\":\"\\n# é¢˜ç›®\\nä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°\\n```javascript\\nfunction add(x) {\\n\\tvar fn = function(y) {\\n\\t\\treturn add(x + y);\\n\\t}\\n\\n\\treturn fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n```\\n\\n\",\"headings\":[{\"depth\":1,\"value\":\"é¢˜ç›®\"},{\"depth\":1,\"value\":\"å®ç°æ–¹æ³•\"}],\"html\":\"<h1>é¢˜ç›®</h1>\\n<p>ä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°</p>\\n<pre><code class=\\\"language-javascript\\\">function add(x) {\\n    var fn = function(y) {\\n        return add(x + y);\\n    }\\n\\n    return fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n</code></pre>\\n<!-- more -->\\n<h1>å®ç°æ–¹æ³•</h1>\\n<p>è¿™æ ·å†™æ˜¯å¯ä»¥å®ç°è°ƒç”¨æ–¹å¼ï¼Œä½†æ˜¯æ€ä¹ˆ<code>return x</code>å‘¢ï¼Œå›æ¥æƒ³è¿˜æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œäºæ˜¯ä¸Šç½‘æ‰¾äº†ç‚¹å…¶ä»–äººçš„å®ç°æ–¹å¼ï¼Œå‘ç°ä»–ä»¬æ˜¯é‡å†™äº†<code>object</code>çš„<code>valueOf</code>å’Œ<code>toString</code>çš„æ–¹æ³•ã€‚ç„¶åå†è·‘äº†ä¸€éã€‚</p>\\n<pre><code class=\\\"language-javascript\\\">function add(x) {\\n    var fn = function(y) {\\n        return add(x + y);\\n    }\\n\\n    fn.toString = function() {\\n        return x;\\n    }\\n\\n    return fn;\\n}\\n\\n\\n// chrome  function 6\\n// firefox function add/fn\\n// node    { [Number: 6] toString: [Function], valueOf: [Function] }\\nconsole.log(add(1)(2)(3))\\n\\nconsole.log(add(1)(2)(3).toString()) // 6\\n</code></pre>\\n<p>ç”±æ­¤çœ‹å‡ºåœ¨ä¸åŒå®¢æˆ·ç«¯ä¸‹è¿”å›çš„ç»“æœå¹¶ä¸ä¸€æ ·ï¼Œå¹¶ä¸æ˜¯å®Œç¾çš„ç»“æœï¼Œä½†æ˜¯æŸ¥é˜…äº†å…¶ä»–èµ„æ–™å¹¶æ²¡æœ‰å…¶ä»–ååˆ†å¥½çš„è§£å†³åŠæ³•ï¼Œä¼°è®¡è¿™é“é¢˜çš„è€ƒæŸ¥ç‚¹æ˜¯å…³äºjsæ·±åº¦çš„ï¼Œæ¯”å¦‚åŸç”Ÿå¯¹è±¡é‡Œé¢çš„åŸºæœ¬æ–¹æ³•å’Œ<code>alert</code>, <code>console</code>ä¼šè‡ªåŠ¨æ‰§è¡ŒtoStringç­‰æ–¹æ³•ã€‚</p>\\n<p>å¦å¤–ï¼Œ<code>valueOf</code>å’Œ<code>toString</code>æ–¹æ³•å…¶å®æ˜¯å·®ä¸å¤šçš„ï¼Œè¿”å›çš„ç»“æœåŸºæœ¬éƒ½æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯è¯•äº†ä¸€ä¸‹å®šä¹‰äº†ä¸¤ä¸ªä¸åŒçš„æ–¹æ³•ï¼Œå‘ç°æ€»æ˜¯ä¼šè¿”å›valueOfçš„å€¼å…ˆï¼Œæ‰€ä»¥è§‰å¾—toStringåº”è¯¥æ˜¯åº”ç”¨äºvalueOfçš„ç»“æœã€‚</p>\",\"htmlExcerpt\":\"<h1>é¢˜ç›®</h1>\\n<p>ä¹‹å‰åœ¨YYé¢è¯•çš„æ—¶å€™é‡åˆ°è¿‡çš„ä¸€é¢˜: å®ç°add(1)(2)(3)ï¼Œè¿”å›6ï¼Œæ³¨æ„å¯æ‹“å±•æ€§ã€‚\\nå½“æ—¶ç¬¬ä¸€ååº”å°±æ˜¯ç”¨é€’å½’å®ç°</p>\\n<pre><code class=\\\"language-javascript\\\">function add(x) {\\n    var fn = function(y) {\\n        return add(x + y);\\n    }\\n\\n    return fn;\\n}\\n\\nconsole.log(add(1)(2)(3))\\n</code></pre>\\n\"}}],\"page\":2,\"pages\":3,\"total\":14,\"limit\":5,\"prev\":\"/blog/1\",\"next\":\"/blog/3\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/blog-2.json\n// module id = 283\n// module chunks = 225156435109840"],"sourceRoot":""}